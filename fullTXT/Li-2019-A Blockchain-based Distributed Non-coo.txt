A Blockchain-based Distributed Non-cooperative
Transactive Energy Market
Huan Aaron Li
Department of Electrical and Computer Engineering
The University of Auckland
Email: hli589@aucklanduni.ac.nz
Nirmal-Kumar C. Nair
Department of Electrical and Computer Engineering
The University of Auckland
Email: n.nair@auckland.ac.nz
Abstract—Existing electricity networks and markets are ex-
periencing and exploring the transition from operating in a
conventional centralized or pseudo-decentralized systems to a
fully distributed one. This research contributes to that transition
by proposing a blockchain-based distributed non-cooperative
transactive energy market that can be easily integrated with
existing electricity market framework. We first introduce an ab-
stracted market where generators, knowing competitor’s strategy,
will rationally place bids in order to seek their maximized profits
and loads are strategically updating offered prices basing on
power demand. Under certain assumptions, it is proved there
exists a Nash equilibrium state that optimizes the social welfare
of the whole market. The details of blockchain-based market
architecture including primary components and trading process
are subsequently presented. Last but not least, a numerical
experiment on a simplified microgrid market is conducted to
illustrate the effectiveness of our proposed non-cooperative mar-
ket framework.
Index Terms—Transactive energy market, blockchain, dis-
tributed generation, microgrid market, Nash equilibrium, multi-
agent system.
I. INTRODUCTION
A. Blockchain in Electricity Market
The increasing popularity of renewable energy[1], dis-
tributed generation[2] and microgrid formation[3] has intro-
duced both opportunities and challenges to our existing elec-
tricity markets frameworks. Xu et al. [4] points out the fact that
current market regulation, energy market design and business
model are dominated by centralized or pseudo-decentralized
schemes. To provide more flexibilities, better integration and
improved efficiency, it is critical to adapt to the transition of
fully decentralized systems which potentially could be enabled
by blockchain particularly for network integrated microgrid.
Blockchain, by design, is an open and distributed ledger
that can permanently record transactions between different
parties as blocks on the network[5], [6]. Upon generation, new
blocks are only accepted and populated after being verified by
majority nodes on the network. Due to its nature of fault-
tolerance and distributed architecture, blockchain has gained
increasing attention in electric power systems for handling
increased transactions due to microgrids trading amongst
themselves. Verma et al. [7] provide a brief introduction of
the Irish peer-to-peer (P2P) transactive energy trading project
named EnerPort. This report also remarks some key challenges
faced by existing prosumer market models and explains the ad-
vantages of adopting blockchain to enable a highly distributed
architecture.
In terms of detailed blockchain-based market models and
trading schemes, different design and implementations have
been proposed in several literature. Conceptual machine-to-
machine (M2M) electricity trading markets can be found in
[8], [9] where the trading mechanisms are relatively simple.
Energy producer, in those markets, publishes blockchain con-
tracts and consumers choose the most economical ones and
place direct transactions through target contracts. Mengelkamp
et al. presents a blockchain-based market where a uniform
clearing price is adopted by all market participants[10]. Within
the system, each electricity supplier and consumer places
bids or prices to a blockchain contract which is acting as
the market price clearing mechanism. However, it is widely
acknowledged that a uniform clearing prices is inefficient as
power suppliers are less motivated to improve efficiency and
quality of services. With increasing penetration of electric
vehicles (EVs), research in [11] proposes a blockchain-based
P2P EV trading model for a local power network. Participants
in the system include plug-in hybrid electric vehicles (PHEVs),
acting as electricity buyers and sellers, and auctioneers that are
responsible for allocating power supply and demand. Similarly
in [12] the utilization of blockchain enables EV’s autonomy of
energy trading in a decentralized transactional energy market.
B. Contribution
Existing trading schemes in blockchain-based energy market
are constrained by ease of implementation and intervention
of third parties, whereas in practical scenarios electricity
markets are transitioning to competition-oriented[13] where
participants are actively competing with others and constantly
pursuing maximized profits. Existing wholesale electricity
market structures primarily deal with large-scale generation
and load entities. Hence in this work we explore a blockchain-
based distributed competitive energy market by adopting game
theoretic constructs that in future will be able to handle
increased localized peer-to-peer transactions alongside existing
and mature electricity market grid trading framework.
The contribution of this study is twofold:
1) A distributed non-cooperative market pricing scheme
is presented and proved. In this market, the microgrid
978-1-7281-1981-6/19/$31.00 ©2019 IEEE
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:19:48 UTC from IEEE Xplore.  Restrictions apply. 
participants compete with others by strategically placing
bids or prices in order to maximize their own benefits.
Iteratively, the market will converge to a Nash equi-
librium where system’s social welfare is optimized and
each participant’s benefit is simultaneously met.
2) A blockchain-based distributed transactive energy mar-
ket is designed. Participants in the market are abstracted
as virtual agents and actively performing transactions
through a smart contract. An illustrative numerical ex-
periment is conducted to validate our trading scheme for
a limited number of transactions.
II. SYSTEM MODEL
A. Nash Equilibrium
Assume that a microgrid consists of N distributed gener-
ators and M electricity consumers and all entities are able
to perform multi-player energy transactions. An electricity
market is formed within the microgrid and it operates in the
way that agreements containing price and quantity informa-
tion are automatically reached between power suppliers and
consumers.
Each consumer is associated with a total electricity con-
sumption dj (j ∈ M ). In order to fulfil its power demand, a
Price-of-Purchase p is issued. Knowing the prices from each
consumer, a generator i is willing to provide qij = bipj
electricity to consumer j where bi is a bid and it represents
generator i’s willingness against price pj . After receiving
bids from all potential suppliers, a power customer j updates
its new price as pj = dj/
∑
bi. The price and quantity
between generators and consumers will settle once all power
demand is fulfilled and no generator is willing to change its
bid. Furthermore, given generator i’s total power supply is
qi =
∑
j qij , there is a continuously differentiable and strictly
convex cost function Ci(qi) associated with it.
Assumption In this research we assume that each dis-
tributed generator in the microgrid market is price-taking and
actively pursuing optimized profits. All generators’ bids are
transparent and accessible to others. Upon receiving prices pj
(j ∈M ) from consumers and knowing other competitors’ bids
b−i, a generator i strategically issues a new bid bi that will
maximize its profit function Ri(bi, b−i) where
Ri(bi, b−i) =
∑
j
pjqij − Ci(qi)
= bi
∑
j
d2j
(bi +B−i)2
− Ci(
bi
∑
j dj
bi +B−i
)
(1)
Here b−i = [b1, b2, ..., bi−1, bi+1, ..., bn] and denote B−i =∑n
l 6=i bl where l ∈ N .
From the above assumption, we can get the derivative of
each generator’s profit function
dRi(bi, b−i)
dbi
=
1
(bi +B−i)2
[B−i − bi
B−i + bi
∼
D
−B−iDC
′
i(
biD
bi +B−i
)
] (2)
where D =
∑
j dj and
∼
D =
∑
j d
2
j .
Note that B−i−bi
B−i+bi
< 1, we can get that dRi(bi,b−i)
dbi
< 0
if B−iDC
′
i(qi) ≥
∼
D > B−i−bi
B−i+bi
∼
D, and b∗i = 0 maximizes
generator i’s profit function. If B−iDC
′
i(qi) <
∼
D, we can
see from the above equation that dRi(bi,b−i)
dbi
∣∣
bi=0
> 0 and
dRi(bi,b−i)
dbi
∣∣
bi=B−i
< 0, then there exists a point b∗i in
range (0, B−i) satisfying B−i−b∗i
B−i+b∗i
∼
D−B−iDC
′
i(
b∗i D
b∗i +B−i
) = 0.
Combining the two cases, b∗i satisfies the following[ ∼
D
B−i + b∗i
− B−iD
B−i − b∗i
C
′
i(
b∗iD
b∗i +B−i
)
]
(bi − b∗i ) ≤ 0 (3)
Recall that pj = dj/
∑
bi, the above can be transformed into[∑
j p
∗
j
2∑
j p
∗
j
− B−i
B−i − bi
C
′
i(q
∗
i )
](
bi
∑
j
p∗j − q∗i
)
≤ 0 (4)
Note that b∗i < B−i, then p∗j = dj/
∑
i b
∗
i = dj/(b
∗
i +
B∗−i) < dj/(2b
∗
i ), and q∗ij = b∗i p
∗
j < dj/2. Therefore for each
load dj there will be at least 3 generators providing positive
power supplies(qij > 0) to it. Moreover, it can be seen that
q∗i =
∑
j q
∗
ij <
∑
j dj/2 = D/2, which implies in order
to fulfil all loads’ demand D the number of generators (N )
existing in the microgrid is greater than 2.
Theorem 1. Given a microgrid market with N ≥ 3 gener-
ators following optimization Equ. 4 and M ≥ 1 consumers
responding prices based on pj = dj/
∑
bi, there exists a
Nash equilibrium state. Moreover, the equilibrium vector (b∗,
p∗) solves the following convex social welfare optimization
problem
min
qi≥0
∑
i∈N
Fi(qi) (5a)
s.t.
∑
i
qij = dj ∀j ∈M (5b)
where Fi(qi) is
Fi(qi) =(1 +
qi
D − 2qi
)Ci(qi)
−
∫ qi
0
D
(D − 2xi)2
Ci(xi)dxi
(6)
and Fi(qi) is the sum of generation cost and some efficiency
loss that are necessary for reaching agreements.
Proof. Considering the above convex optimization problem,
we can construct its dual problem as shown below:
max g(u) (7a)
s.t. u ∈ Rm (7b)
where the dual function g(u) is in the following form
minL(q,u) =
∑
i
Fi(qi)−
∑
j
uj(
∑
i
qij − dj)
=
∑
i
(
Fi(qi)−
∑
j
qijuj +
∑
j ujdj
n
) (8)
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:19:48 UTC from IEEE Xplore.  Restrictions apply. 
Note that the dual function L(q,u) is separable and it can be
decomposed into N independent one-dimensional problems
[14], [15] with each as the following
min fi(qi) := Fi(qi)−
∑
j
qijuj +
∑
j ujdj
n
(9a)
s.t. 0 ≤ qi < D/2 (9b)
Since Fi(qi) is strictly convex in [0, D/2) and qi = bi
∑
j pj ,
so is each fi(qi). Hence each sub-problem has its unique
optimal solution b∗i and its optimal condition is as following[∑
j
p∗ju
∗
j − F
′
i (q
∗
i )(
∑
j
p∗j )
]
(bi − b∗i ) ≤ 0 (10)
After some mathematical manipulations, the above can be
transformed into[∑
j p
∗
ju
∗
j∑
j p
∗
j
− F
′
i (q
∗
i )
]
(bi
∑
j
p∗j − q∗i ) ≤ 0 (11)
Recall Equation 6, it can be easily verified that F
′
i (qi) =
(1 + qi
D−2qi )C
′
i(qi) = B−i
B−i−biC
′
i(qi) , and Equation 11 and
4 are identical when u∗ = p∗, which states that the Nash
equilibrium vector (b∗, p∗) minimizes the target social welfare
problem.
We have stated it as a social welfare problem objective,
though it benefits the competitive behaviour of the microgrid
players, since all these participants do operate in the bigger
scheme of the overall electricity market structure where the
distribution utility is participating.
B. Distributed Power Supply Agreement Scheme
Given an electricity market where a large number of gen-
erators and consumers are simultaneously performing power
transactions, massive computing and networking resources are
required for the system to operate sufficiently. Nevertheless
concerns regarding complexity of operation and maintenance,
security and scalability also exist in a centralized architecture,
which in the last 3 decades have been managed in wholesale
electricity market structures. In this work to handle the scala-
bility challenge, a distributed power supply agreement scheme
is proposed.
Note from Equ. 8 that the dual function of social welfare op-
timization can be decomposed into independent sub-problems
where each sub-problem’s optimal solution is a component
of the market’s Nash equilibrium vector and this makes a
distributed computation scheme an ideal solution for solving
our global welfare optimization. Therefore in this formulation
we propose a distributed scheme where generators calculate
and submit their own optimized bids and consumers adjust
their offering prices based on the mismatch between proposed
supply and demand. During market trading process, informa-
tion is constantly exchanged between different entities and the
global welfare optimization can be achieved iteratively. The
proposed distributed agreement reaching scheme is presented
Algorithm 1 Distributed Market Trading Scheme
Initialization: k = 1, ukj = 0 for j = 1, 2, 3, ...,M , choose
a suitable step-size s > 0 and tolerance δ > 0,
while |tk| > δ do
for Generator i = 1 to N do
Retrieving uk and b−i,
Computing bk+1
i as the optimal solution of Equ. 9,
bk+1
i =
(C
′
i)
−1(∑j uk
j
2∑
j uk
j
(B−i−bi
B−i
)
)
∑
j u
k
j
(12)
Broadcast bk+1
i ,
end for
for Load j = 1 to M do
Receiving bk+1 from generators,
Updating its price uj as following
tk+1
j = ukj (
∑
i
bk+1
i )− dj (13a)
uk+1
j = ukj + s · tk+1
j (13b)
Broadcast uk+1
j ,
end for
k = k + 1
end while
in Algorithm 1. Specifically the dual gradient algorithm is
utilized to converge our solution to the global optimization.
It can be seen from the algorithm that each entity within the
market is solving a relatively simpler optimization problem,
thus requiring only limited amount of computing resources.
For the information exchange, low bandwidth network is
sufficient as entities only need to broadcast their latest bids or
prices. By transforming a global welfare optimization problem
that demands intensive central computing and networking
performance into a distributed solving scheme that supports
devices with finite resources, our consensus reaching mech-
anism is suitable for future electricity distribution system
that features high penetration of distributed generators, smart
meters and other smart Internet-of-Things (IoT) appliances.
III. MARKET ARCHITECTURE
As a distributed computing system, blockchain features
resistance of record modification and decentralized consensus
between majority nodes in the network, which makes it an
ideal platform for our distributed energy market. Hence in this
section, we present a blockchain-based trading system which
in general is a virtual environment where different trading
entities in the actual power distribution network and systems
are abstracted as virtual agents on the blockchain network
and continuously performing market operations. The market
architecture and components are illustrated in Figure 1.
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:19:48 UTC from IEEE Xplore.  Restrictions apply. 
Fig. 1: Blockchain-based Transactive Energy Market
A. Market Components
1) Trading Agent (TA): Trading Agents are the represen-
tatives of market participants that are primarily conducting
energy transactions. Specifically a distributed generator is
represented as an intelligent TA seller in the market that
is constantly placing bids in order to maximize its profit.
Correspondingly a TA buyer, created as the virtual agent of a
consumer, offers purchasing prices to fulfil its power demand.
A TA is consisted of a power controller, a smart measurement
unit and a blockchain market trading module.
2) Power Contract (PC): An energy contract is an agree-
ment for supplying and purchasing specified quantity of power
between different TA buyers and TA sellers. Issued by a buyer
agent, its blockchain address is publicly accessible and sellers
who are willing to supply can place bids within the contract
meanwhile the issuer is also updating its price of purchase.
From trading entities’ points of view, a power contract is an
information mediator and obligation enforcer between buyers
and sellers. Once agreement reached, the fund from buyer will
be stored within the contract and it will only be released if the
contract has verified that a generator has fulfilled its obligation.
3) Utility Agent (UA): Utility Agents on blockchain rep-
resent electricity utilities in an actual distribution system. By
collecting real-time measurements across the system, the util-
ity is constantly monitoring and maintaining power network’s
stability so that all other parties can function properly. Hence
an UA in our market is acting on behalf of an utility company
and charging fees for all established contracts in order to
compensate its operation cost. Therefore our proposed peer-to-
peer microgrid market structure can be easily integrated with
existing wholesale electricity market under which the local
distribution utility (UA) operates upon.
4) Contract Yellow Page Agent (CYPA): A CYPA acts as a
market information centre that keeps record of existing power
contracts in the market. Externally it provides a list of open
contract addresses so that potential TA sellers can retrieve
more details from the network providing the blockchain ad-
dress of that contract. Moreover, a TA buyer will voluntarily
add its contract address to CYPA’s list as it could potentially
attract more TA sellers and decrease its consumption cost.
B. Trading Process
As shown in Figure 2, the trading process consists of
three phases: initialization, iterative agreement reaching and
Fig. 2: Market Trading Flows
settlement. To initialize the process, a TA buyer starts issuing
a power contract with desired quantity of power and registers
the returned contract address with a CYPA and this makes
it publicly accessible to all potential sellers. Asynchronously,
the buyer also places an initial price within that contract.
During the iterative trading phase, TA sellers retrieve current
contract price and competitors’ bids, strategically calculate
new bids from Equ. 12, and then update their latest bids
in their contracts. Simultaneously the price of purchase is
updated by the TA buyer using Equ. 13. This iterative approach
will drive current market status towards the Nash equilibrium
eventually. Once converged, events are automatically triggered
and emitted from contract to all involved parties to inform
the settled price, bids and utility fee. After being notified, a
generator needs to supply specified quantity of electricity so
that the contract will release the fund to its account.
Note that the market trading process in this section is gener-
ally similar to Algorithm 1 except that, instead of broadcasting,
all trading entities will send new price or bids to the blockchain
contract directly. In this way, our trading process benefits
from blockchain’s decentralized consensus as any updates
in the contract will be automatically populated, verified and
synchronized among the majority nodes on the network.
IV. NUMERICAL RESULT
To demonstrate the effectiveness of our study, a numerical
experiment is conducted and presented in this section. Firstly
we abstract a simplified microgrid market consisting of 4
distributed generators and 2 household consumers (Figure 3)
from its physical system and correspondingly create virtual
agents for all these new market participants. Each agent
is assigned with a unique account address within a private
Ethereum network. By doing so, agents are able to perform
blockchain transactions, create smart power contracts, place
bids and update prices.
To simplify our model further, each generator’s cost function
is in the form Ci(qi) = αiq
2
i + βiqi, and each generator’s
optimal bid can be easily calculated by substituting the cost
function Ci(qi) into Equ. 12. Each consumer follows Equ.
13 to update its price and all other parameters are provided
in Table I. The result of our experimental market trading is
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:19:48 UTC from IEEE Xplore.  Restrictions apply. 
TABLE I: Transactive Energy Market Participant Parameters
Participant α β s δ d1 d2 d3
DG1 0.2 0.3 — — — — —
DG2 0.3 0.5 — — — — —
DG3 0.7 0.2 — — — — —
DG4 0.4 0.5 — — — — —
Load1 — — 0.5 0.001 10.0 15.0 26.5
Load2 — — 0.5 0.001 24.0 12.5 15.2
(a) Microgrid Market Participants
(b) A snippet of blockchain transactions
(c) Price Of Purchase from Consumers
(d) Supply Bids from Generators
Fig. 3: Numerical result
shown in Figure 3. During this numerical test, three rounds of
trading are conducted and it can be seen that our distributed
trading scheme can quickly converge to the Nash equilibrium.
Substituting generators’ bids and consumers’ prices within
pj = dj/
∑
bi it can be verified that each household’s
demand is fulfilled. A snippet of the transaction log is also
provided. Please note that the CYPA and UA proposed in our
architecture, though important for realistic implementation, are
not factored in the simulation.
V. CONCLUSION
In this paper, a blockchain-based non-cooperative dis-
tributed transactive energy market is formulated and analysed.
We firstly prove that under the assumed market game there
exists a Nash equilibrium where the market entities’ power
demand, maximized profit as well as the entire market’s
optimal social welfare are concurrently achieved. A distributed
consensus reaching scheme that utilizes the dual gradient algo-
rithm is correspondingly proposed to achieve the requirement
of distributed computing. Furthermore, the paper illustrates a
blockchain-based energy market where market participants are
abstracted as intelligent virtual agents and perform transactions
on blockchain network following the proposed distributed
trading scheme.
REFERENCES
[1] G. Boyle, “Renewable energy,” Renewable Energy, by Edited by God-
frey Boyle, pp. 456. Oxford University Press, May 2004. ISBN-10:
0199261784. ISBN-13: 9780199261789, p. 456, 2004.
[2] T. Ackermann, G. Andersson, and L. Söder, “Distributed generation: a
definition1,” Electric power systems research, vol. 57, no. 3, pp. 195–
204, 2001.
[3] D. E. Olivares, A. Mehrizi-Sani, A. H. Etemadi, C. A. Cañizares,
R. Iravani, M. Kazerani, A. H. Hajimiragha, O. Gomis-Bellmunt,
M. Saeedifard, R. Palma-Behnke, G. A. Jiménez-Estévez, and N. D.
Hatziargyriou, “Trends in microgrid control,” IEEE Transactions on
Smart Grid, vol. 5, no. 4, pp. 1905–1919, July 2014.
[4] Y. Xu, P. Ahokangas, S. Yrjölä, and T. Koivumäki, “The blockchain
marketplace as the fifth type of electricity market,” in Smart Grid
and Innovative Frontiers in Telecommunications, P. H. J. Chong, B.-C.
Seet, M. Chai, and S. U. Rehman, Eds. Cham: Springer International
Publishing, 2018, pp. 278–288.
[5] M. Swan, Blockchain: Blueprint for a new economy. ” O’Reilly Media,
Inc.”, 2015.
[6] M. Iansiti and K. R. Lakhani, “The truth about blockchain,” Harvard
Business Review, vol. 95, no. 1, pp. 118–127, 2017.
[7] P. Verma, B. O’Regan, B. Hayes, S. Thakur, and J. G. Breslin,
“Enerport: Irish blockchain project for peer- to-peer energy trading,”
Energy Informatics, vol. 1, no. 1, p. 14, Sep 2018. [Online]. Available:
https://doi.org/10.1186/s42162-018-0057-8
[8] J. J. Sikorski, J. Haughton, and M. Kraft, “Blockchain technology in
the chemical industry: Machine-to-machine electricity market,” Applied
Energy, vol. 195, pp. 234 – 246, 2017.
[9] M. Sabounchi and J. Wei, “Towards resilient networked microgrids:
Blockchain-enabled peer-to-peer electricity trading mechanism,” in 2017
IEEE Conference on Energy Internet and Energy System Integration
(EI2), Nov 2017, pp. 1–5.
[10] E. Mengelkamp, B. Notheisen, C. Beer, D. Dauer, and C. Weinhardt, “A
blockchain-based smart grid: towards sustainable local energy markets,”
Computer Science - Research and Development, vol. 33, no. 1, pp. 207–
214, Feb 2018.
[11] J. Kang, R. Yu, X. Huang, S. Maharjan, Y. Zhang, and E. Hossain,
“Enabling localized peer-to-peer electricity trading among plug-in hybrid
electric vehicles using consortium blockchains,” IEEE Transactions on
Industrial Informatics, vol. 13, no. 6, pp. 3154–3164, Dec 2017.
[12] C. Liu, K. K. Chai, E. T. Lau, and Y. Chen, “Blockchain based energy
trading model for electric vehicle charging schemes,” in Smart Grid
and Innovative Frontiers in Telecommunications, P. H. J. Chong, B.-C.
Seet, M. Chai, and S. U. Rehman, Eds. Cham: Springer International
Publishing, 2018, pp. 64–72.
[13] M. Ventosa, A. Ballo, A. Ramos, and M. Rivier, “Electricity market
modeling trends,” Energy policy, vol. 33, no. 7, pp. 897–913, 2005.
[14] Y. Cheng, “Dual gradient method for linearly constrained, strongly
convex, separable mathematical programming problems,” Journal of
optimization theory and applications, vol. 53, no. 2, pp. 237–246, 1987.
[15] N. Li, L. Chen, and M. A. Dahleh, “Demand response using linear
supply function bidding,” IEEE Transactions on Smart Grid, vol. 6,
no. 4, pp. 1827–1838, 2015.
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:19:48 UTC from IEEE Xplore.  Restrictions apply.