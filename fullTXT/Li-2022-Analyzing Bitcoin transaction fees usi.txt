Analyzing Bitcoin transaction fees using a queueing game model
Vol.:(0123456789)
Electronic Commerce Research (2022) 22:135–155
https://doi.org/10.1007/s10660-020-09414-3
1 3
Analyzing Bitcoin transaction fees using a queueing game 
model
Juanjuan Li1,2 · Yong Yuan2  · Fei‑Yue Wang2
Published online: 27 May 2020 
© Springer Science+Business Media, LLC, part of Springer Nature 2020
Abstract
In the Bitcoin system, large numbers of miners invest massive computing resources 
in the blockchain mining process in pursuit of Bitcoin rewards, which are comprised 
of a fixed amount of system-generated new block reward and a variable amount of 
user-submitted transaction fees. Here, transaction fees serve as the important tuner 
for the Bitcoin system to define the priorities in users’ transaction confirmation. In 
this paper, we aim to study the priority rule for queueing transactions based on their 
associated fees, and in turn users’ strategies in formulating their fees in the transac-
tion confirmation game. We first establish a full-information game-theoretical model 
to study users’ equilibrium fee decisions; and then discuss three types of Nash equi-
libria, under which no, all and some users submit transaction fees. Moreover, we 
conduct empirical studies and design computational experiments to validate our 
theoretical analysis. The experimental results show that (1) users’ fee decisions will 
be significantly affected by their waiting time; (2) the reduced time costs, instead of 
transaction values, are the basis for users to evaluate their revenues; (3) longer wait-
ing time and higher unit time cost drive users to submit transaction fees in pursuit of 
desired priorities; (4) with the required transaction fee increasing, the proportion of 
fee-submitting users decreases slowly at first followed by a sharp decline, and over-
high required fees will make the transaction confirmation game end up with no users 
submitting fees.
Keywords Bitcoin · Blockchain · Transaction fees · Transaction confirmation 
queueing game
 * Yong Yuan 
 yong.yuan@ia.ac.cn
 Juanjuan Li 
 juanjuan.li@ia.ac.cn
 Fei-Yue Wang 
 feiyue.wang@ia.ac.cn
1 School of Automation, Beijing Institute of Technology, Beijing 100081, China
2 The State Key Laboratory for Management and Control of Complex Systems, Institute 
of Automation, Chinese Academy of Sciences, Beijing 100190, China
http://orcid.org/0000-0001-8310-2712
http://crossmark.crossref.org/dialog/?doi=10.1007/s10660-020-09414-3&domain=pdf
136 J. Li et al.
1 3
1 Introduction
As a typical decentralized and trustless network designed by Satoshi Nakomoto 
[1], the blockchain-powered Bitcoin system is capable of dealing with the secured 
transfer of values, thus has attracted intensive attentions [2–5]. Within the Bitcoin 
system, miners (both individual-level solo miners and group-level mining pools) 
compete to solve computational puzzles via searching a random number that satis-
fies specific difficulty requirements using a brute force approach, and this process is 
widely known as proof-of-work mining [6]. New blocks are created via mining and 
appended to the main-chain of previously agreed upon blocks, creating a complete 
record of all data updating that has ever taken place [7].
The transaction confirmation process in the Bitcoin system is described as fol-
lows (as shown in Fig. 1). Essentially, the Bitcoin system can be viewed as a queue-
ing system of transactions pending for confirmation [8–11]. Users typically submit 
transactions with a certain amount of associated fees to get their desired priority 
and stimulate miners to confirm their transactions preferentially. All the transactions 
pending for confirmation are stored in the memory pool. Since the block size is lim-
ited, the number of transactions that miners can record into a block is restricted [12]. 
As such, revenue-maximizing miners naturally first select and pack those transac-
tions with higher priorities as their mining basis. During the mining process, the 
miner who first solves the computational puzzle will be rewarded. Meanwhile, those 
transactions packaged by the winning miner will be recorded into the new block 
after being successfully confirmed by all or a majority of miners [13, 14].
In the transaction confirmation process, transaction fees impose great impacts on 
the participants’ individual decisions and even the system-level policy making or 
mechanism design.
From the perspective of miners, transaction fees serve as the important basis of 
their transaction confirmation decisions. Their revenues include a fixed number of 
system-generated Bitcoins issued in the Coinbase transactions, and also the user-
submitted transaction fees. Although the incentive of the mining process relies 
largely on the new block reward so far [15, 16], the amount of block reward is preset 
Fig. 1  The transaction confirmation in the Bitcoin system
137
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
to be halved approximately every 4  years until 21 millions Bitcoins are created 
finally. On the contrary, transaction fees are expected to gradually increase. In the 
future, in case that the system eventually stops creating new Bitcoins, transaction 
fees will serve as the major way to stimulate miners to keep mining and provide con-
firmation service [12, 17].
From the perspective of users, transaction fees are the main tuner for their trans-
action confirmation priorities. With the average transaction size getting larger, the 
confirmation rate gradually decreases if the block size is not enlarged. As a result, 
there will be large numbers of transactions congested in the memory pool and users 
will wait for longer time until their transactions are confirmed. Under this situation, 
users are confronted with great challenges to determine the proper fees with the pur-
pose of achieving the successful transaction confirmation within the desired waiting 
time.
Besides, transaction fees are the important input of the Bitcoin’s system-level pol-
icy making, aiming to guarantee the security, vitality and sustainability of the block-
chain-powered system [18]. Obviously, the transaction fee policy making should be 
done based on the analysis of users’ fee decisions. As such, there is a critical need 
for us to study transaction fees’ impacts and in turn users’ equilibrium transaction 
fee decisions in the Bitcoin ecosystem.
The transaction fees’ impacts are typically realized by designing transaction pri-
ority rules based upon them, and different priorities will lead to different waiting 
time of users. In general, users’ willingness to pay transaction fees mainly depends 
on the trade-off between the required transaction fees and the expected benefits from 
reduced waiting time. In view of these facts, we aim to study users’ waiting time 
under the specific priority rule for queueing transactions as well as users’ fee deci-
sions in the transaction confirmation game. Usually, one Bitcoin block can record 
multiple transactions. For these transactions recorded into the same block, we can 
assume they are confirmed almost simultaneously. Accordingly, we formulate the 
Bitcoin transaction confirmation queueing problem under the non-preemptive pri-
ority rule based on transaction fees in the multi-server systems, namely the multi-
server multi-priority non-preemptive priority (MSMP) rule. Based on this consid-
eration, we establish the game-theoretical model to analyze users’ transaction fee 
decisions. Besides, we conduct both theoretical analysis and experimental validation 
of the formulated transaction confirmation model.
The main contributions of our research are summarized as follows. First, we 
explicitly characterize the fee-based priority rule and in turn analyze the equilib-
rium fee decisions utilizing a queueing game model. Then, we conduct the empirical 
study and design computational experiments to validate the theoretical models and 
analysis. The theoretical and experimental results derived from this work can not 
only help us understand users’ equilibrium decisions under the fee-based priority 
rule, but also provide good support for the Bitcoin system to determine the proper 
fee given the optimization objective. Besides, this research can also be extended to 
study users’ fee decisions in other blockchain-powered crypto-currency systems, 
e.g., we only need to adjust the priority rule according to their transaction confirma-
tion characteristics and compute users’ waiting time accordingly, since the waiting 
time is the main influential factor of users’ fee decisions in our formulated model.
138 J. Li et al.
1 3
The remainder of this paper is organized as follows. Section 2 briefly reviews the 
related literature. Section 3 investigates the transaction confirmation queueing game 
and studies its equilibrium. Section  4 conducts both empirical analysis and com-
putational experiments. Section 5 discusses the managerial implications. Section 6 
concludes this paper and discusses the future work.
2  Related literatures
Bitcoin economics has been widely studied in literature [7, 19–21], while the trans-
action fee economics still receives very limited research attentions. In literature, [22] 
considered that transaction fees have only little importance, and their research on 
Bitcoin mining games thus does not take transaction fees into consideration. How-
ever, other researchers argued that it is of great values to study transaction fees in 
the Bitcoin system considering both the systematic ecosystem and the individual 
participants.
From the macro-scopic perspective, transaction fees impose an important impact 
on the Bitcoin system. However, [23] argued that Bitcoin’s current fee market does 
not extract revenue well when blocks are not congested. Houy [12] studied the eco-
nomics of Bitcoin’s transaction fees in a simple partial equilibrium setting, and 
showed that the fixed transaction fee is equivalent to setting a maximum block size 
instead. Easley et al. [8] investigated the role that transaction fees play in the Bitcoin 
blockchain’s evolution from a mining-based structure to a market-based ecology. 
Iyidogan [24] developed a blockchain economic model in the presence of endog-
enously determined mining difficulty and proposed a fee structure, and the results 
showed that both the increasing number of miners and the developed technology 
reduced the optimal transaction fee.
From the micro-scopic perspective, transaction fees not only serve as the incen-
tives to miners’ decisions on confirming transactions [8] but also can be used to 
adjust users’ priorities as well as their waiting time for transaction confirmation [10]. 
Consequently, transaction fees impose influences on each participant’s decisions and 
revenue maximization [9]. From the angle of miners, transaction fees currently serv-
ing as an alternative reward scheme will inevitably develop to be the most important 
incentive as the new block reward gradually decreases [12]. From the angle of users, 
transaction fees indeed usually account for only a small percentage of the Bitcoins 
transferred by their transactions; However, it is possible that transaction fees might 
reach or even exceed the trading Bitcoins, especially in micro-payment scenarios. 
Generally speaking, the larger the required transaction fee is, the longer a transac-
tion could reside in the memory pool [25]; adversely, the higher the submitted fee is, 
the faster a transaction will be confirmed [18]. However, exorbitant transaction fees 
will render Bitcoin uneconomical for micro payments [16, 26].
With the purpose to understand how users determine their transaction fees, [9] 
analyzed the implied congestion queueing game, calculated each user’s trade-off 
between the transaction fee and the delay cost, and concluded that each user’s equi-
librium transaction fee equals the externality that his transaction imposes. Thus, 
the equilibrium transaction fees should coincide with the payments that result from 
139
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
selling priority of service in a Vickrey–Clarke–Groves (VCG) auction. According 
to [12], if the transaction fee is totally determined by a decentralized market and 
the maximum block size is not constrained, the transaction fee will eventually go 
to zero and miners will not have the sufficient incentives to keep mining, and hence 
to keep the Bitcoin system viable. Lavi et al. [23] proposed two alternative auction 
mechanisms: the monopolistic price mechanism, and the random sampling optimal 
price mechanism. They proved that the monopolistic price mechanism is nearly 
incentive compatible and can extract revenues better for miners, under which users 
submit fees equal to their true valuations. Abdullah [27] used the linear perceptron 
machine learning classification algorithm to estimate the fees in reference of mem-
ory pool state, which is with the aim to help users save fees when building multisig 
transactions.
Overall, the research efforts devoted to studying the Bitcoin transaction fees are 
still limited. Also, the existing literatures mainly focus on the transaction fee deter-
mination or the mechanism design with respect to transaction fees, but seldom study 
users’ fee decisions in the transaction confirmation queueing game except for [8, 9]. 
However, they both did not discuss the fee-based priority rule in line with the Bit-
coin practice for queueing transactions, which serves as the fundamental evidence 
for the game-theoretical transaction fee decisions. Also, [9] focused on the theoreti-
cal analysis of the transaction fee determination from the mechanism-design per-
spective, without considering miners’ transaction confirmation strategies; while [8] 
mainly considered the transaction fee evolution under relatively strong assumptions, 
including homogenous users, single priority, and identical transaction fees, which 
are still far from enough to explain the real Bitcoin system.
Our research is distinct from previous researches mainly in the following aspects. 
Unlike other studies of homogenous users offering identical fees, we relax the 
assumptions to characterize more practical research environment, namely, taking 
into consideration limited block space recording multiple transactions with differ-
ent sizes. Another distinct feature of our study is that we investigate Bitcoin users’ 
fee decisions using a game-theoretical queueing model. In addition, we make use of 
the available real-world data to conduct both the empirical study and computational 
experiments to validate our theoretical models and analysis.
3  The transaction confirmation queueing game
In what follows, we study the fee-based priority rule as well as users’ fee decisions 
in the transaction confirmation queueing game. Notations in this paper are listed in 
Table 1.
In the Bitcoin system, all information regarding each transaction will be broad-
casted in public as soon as it is submitted, which includes size, fee, input amount, 
output amount, address, and submission time, etc. After each block is mined, we are 
free to access the information of confirmed transactions in the block, which means 
the equilibrium results of the transaction fee auction are totally public. Besides, Bit-
coin transactions are basically transfer transactions; thus it is natural to use the trans-
fer amount to represent the transaction’s value to the user. Since the transfer amount 
140 J. Li et al.
1 3
is public information, we can then consider that the transaction’s value is also pub-
lic information [5]. As such, we consider a single-round transaction confirmation 
queueing game in the full-information scenario in this paper.
3.1  Users’ payoffs
In the memory pool, users play the transaction confirmation queueing game through 
submitting proper transaction fees to maximize their expected payoffs. For user 
i ∈ N = {1,… , n} , only if he/she wins the game and gets the transaction confirmed 
and recorded into the blockchain, the revenue vi can be earned. Normally, we have 
f i ≤ vi to consider that all users are conservative [28]. However, the revenue of the 
winning user will be then subtracted by the transaction fee f i and the time cost �idi . 
Accordingly, we formulate the payoff function as
here �i and di represent the user’s unit time cost and waiting time, respectively.
3.2  Users’ waiting time
Different from the traditional multi-server queueing problem, the number of the ser-
vice systems is not fixed in the Bitcoin system. Because, it is determined by min-
ers’ transaction confirmation strategies. We assume that each user submits only one 
transaction, so the user’s priority is also the transaction’s priority.
In general, restricted by the block size, miners selectively confirm either larger-
size transactions with higher fees or smaller-size transactions with lower fees in 
(1)Ri = vi − f i − �idi.
Table 1  List of notations Notations Definitions
Ri The user i’s payoff
vi The value of user i’s transaction
�i The user i’s unit time cost
f i The user i’s transaction fee
k(i) The user i’s priority
�k The submission rate of the priority k
� Total transaction submission rate
� The new block generation rate
� The transaction confirmation intensity
si The user i’s transaction size
� The optimal number of transactions 
recorded into the upcoming new 
block
dk The waiting time of users with the kth 
priority under MSMP rule
141
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
pursuit of maximal revenues. Accordingly, the optimal number � of transactions 
recorded into the upcoming new block is computed by
where X is the upper limit of the block size, and k(i) is the priority of the user i’s 
transaction.
Each miner has different personal computing power, which will lead to different 
cost per unit time. However, their major purpose to provide computing powers is to 
maximize their revenues from mining and transaction confirmation. Generally, for 
each miner who successfully mines out the new block, he/she will confirm transac-
tions as many as possible to fill up the mined new block, because more transactions 
will bring in more transaction fees under the given priority rule. As such, for the 
miner’s transaction confirmation decision, his/her cost per unit time is not an influ-
ence factor. Based on this consideration, we will figure out the number � of the 
transactions recorded into the upcoming new block through Eq. (2).
For Bitcoin miners, higher computing power will generally result in higher com-
puting speed and higher probability of first mining out the new block. However, the 
computing power will not affect the speed of generating new block. Because the 
system will adjust the mining difficulty according to the invested computing power, 
to make sure that the generation rate of new block keeps stable at the predetermined 
level. As such, we consider the exogenously determined new block generation rate � 
in this paper. According to the above analysis, we formulate the transaction confir-
mation rate as ��.
The MSMP rule is not completely determined by the transaction fee, but also 
affected by the transaction size. The user submits the fee considering the transaction 
size, and then miners assign him/her with the corresponding priority according to 
the unit fee gi = f i∕si , where si is the transaction size. Under this rule, users with the 
same priority may offer different fees.
Suppose there are K priorities of submitted transactions pending for confirmation. 
Users with the kth priority submit transactions according to the independent Poisson 
process with the arrival rate of �k , and thus the total submission rate is � =
∑
k �k . 
The transaction with the kth priority has non-preemptive priority over the prior-
ity k + 𝛥,𝛥 > 0 . Within a priority class, transactions are confirmed following the 
first-come-first-served (FCFS) rule. In addition, only if the transaction confirmation 
rate exceeds the submission rate, i.e. 𝜒𝛬 > 𝛤  , the memory pool can converge to 
be steady in the long run, which serves as the key prerequisite for our following 
analysis.
Let pn be the probability that the number of unconfirmed transactions waiting in 
the memory pool is n, and we have
(2)� = argmax
x∈[1,n]
(
x
∑
k(i)=1
f i ∣
x
∑
k(i)=1
si ≤ X
)
,
(3)pn = p0
� n
∏n
i=1
�i
.
142 J. Li et al.
1 3
Here, p0 is the probability of the case that the upcoming new block is empty, and it 
follows that
where � is the average computing intensity and we have � = �∕�� . The probability 
that transactions under confirmation are enough to fill up the upcoming new block 
and the coming new transactions need to keep waiting for the next new block is
Following the calculation process in the classical queueing theory, we derive the 
average waiting time of all users as
For the user with the highest priority, his/her waiting time is equal to the classic 
multi-server non-preemptive multi-priority case with the submission rate of �1 . 
Therefore, the expected waiting time of the user in the highest priority is
As for the expected waiting time of the user with the kth priority, we can derive its 
Laplace–Stieltjes transform as
where B is the length of the period from the moment when transactions with priori-
ties higher than k are under confirmation but the block has no more space to support 
the confirmation of kth-priority transactions until the moment when miners start to 
confirm the first transaction with the kth priority [29]. The Laplace–Stieltjes trans-
form of B is given as
where 𝛾h =
∑
y<k 𝛾y represents the total submission rate of transactions with the pri-
ority higher than k. Through differentiating d̃k(s) , the expected waiting time dk can 
be derived.
(4)p0 =
[
�−1
∑
n=0
1
n!
(��)n +
(��)�
�!(1 − �)
]−1
,
(5)pw =
∞
∑
n=�
pn.
(6)d =
pw
��(1 − �)
.
(7)d1 =
pw
��(1 − �1)
.
(8)d̃k(s) = (1 − pw) + pw
𝜒𝛬(1 −
∑k
y=1
𝜌y)(1 − B̃(s))
s − 𝛾k + 𝛾kB̃(s)
,
(9)
B̃(s) ≡ E
�
e−sB
�
=
s + 𝛾h + 𝜒𝛬 −
√
(s + 𝛾h + 𝜒𝛬)2 − 4𝛾h𝜒𝛬
2𝛾h
,
143
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
3.3  Users’ fee decisions
Users’ fee decisions mainly depend on the trade-off between transaction fees and 
saved time costs resulting from the reduced waiting time. If the waiting time is 
not long or the user is patient enough (i.e., the unit time cost is very low), he/she 
may prefer not to submit the transaction fee; while if the waiting time is signifi-
cantly long or the user is impatient (i.e. the unit time cost is very high), he/she 
may be willing to submit the transaction fee to get the desired priority so as to 
shorten the waiting time. As follows, we will analyze the users’ equilibrium fee 
strategies in the transaction confirmation queueing game under the above-men-
tioned MSMP rule (MSMP game).
The user’s payoff function in the MSMP game is given as
As shown above, the calculation complexity of the waiting time dk grows signifi-
cantly with the increasing k. For simplicity, we take the case of two priorities as 
the example to conduct the following studies, under which transactions with the 
fees have the high priority while those with no fee have the low priority. Then, the 
expected waiting time of the low-priority transactions is derived as
Theorem 1 The full-information MSMP game with two priorities has three types of 
Nash equilibria described as follows:
• If ∀i ∈ N , f > 𝛼ipw(𝛤−1)
𝜒𝛬(1−𝜌)(𝛬−1)
 , there will exist the Nash equilibrium of no user 
submitting the transaction fee.
• If ∀i ∈ N , 0 < f <
𝛼ipw(2𝛬−𝛤−1)
𝜒𝛬(1−𝜌)(𝛬−1)2
 , there will exist the Nash equilibrium of all 
users submitting transaction fees.
• If ∃i ∈ N , �
ipw(2�−�−1)
��(1−�)(�−1)2
≤ f ≤
�ipw(�−1)
��(1−�)(�−1)
 , there will exist the Nash equilibrium 
of some users submitting transaction fees.
Proof The MSMP game is a finite game where each user has finite fee strategies, 
because no user can submit a fee less than zero or high than the transaction amount; 
as such we can conclude that it has the Nash equilibrium [30]. Furthermore, we dis-
cuss the equilibria under which no, all and some users submit transaction fees.
First, the equilibrium of no user submitting the fee exists when the average wait-
ing time is very short or all users’ unit time costs are very low; otherwise, they 
would like to deviate from the equilibrium strategy to offer a fee in the interest of 
a higher payoff. Under this type of equilibrium, any user turning to submit the fee 
to get the first priority will suffer a certain loss. That is, the following condition is 
satisfied for every user:
(10)Ri = vi − f i − �idk(i).
(11)d2 =
pw(1 − �1�)
��(1 − �)(1 − �1)
2
.
144 J. Li et al.
1 3
where
Calculations yield that
Second, if the waiting time is sufficiently long, all users prefer to offer transaction 
fees in exchange for the reduced waiting time. The one who does not submit the fee 
will have the low priority, and his/her waiting time will be prolonged. This type of 
equilibrium exists if the following condition is possessed by all users:
where
Calculations yield that
Third, under the Nash equilibrium of some users submitting transaction fees, we 
have the following conditions. For the users with the high priority, there is
while, for the users with the low priority, there is
Otherwise, users have incentives to change their equilibrium fee decisions. Then, we 
derive that the equilibrium fee required for the high priority should satisfy the fol-
lowing condition:
This condition indicates that over-high transaction fee leads to fee-submitting users 
under equilibrium state forego fees; while over-low transaction fee encourages more 
than the equilibrium number of users to submit fees. According to discussions of 
the aforementioned two types of equilibria, the MSMP game has the equilibrium of 
(12)vi − f − 𝛼id1 < vi − 𝛼id,
(13)d1 =
pw
��(1 −
1
�
)
.
(14)f >
𝛼ipw(𝛤 − 1)
𝜒𝛬(1 − 𝜌)(𝛬 − 1)
, ∀i ∈ N.
(15)vi − f − 𝛼id > vi − 𝛼id2,
(16)d2 =
pw(1 −
�
�
)
��(1 − �)(1 −
1
�
)2
.
(17)0 < f <
𝛼ipw(2𝛬 − 𝛤 − 1)
𝜒𝛬(1 − 𝜌)(𝛬 − 1)2
, ∀i ∈ N.
(18)v1(i) − f − �1(i)d1 ≥ v1(i) − �1(i)d2;
(19)v2(i) − �2(i)d2 ≥ v2(i) − f − �2(i)d1.
(20)�2(i)(d2 − d1) ≤ f ≤ �1(i)(d2 − d1).
145
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
some users submitting the transaction fee when there exists at least one transaction 
satisfying the following condition:
□
4  Experiments
In this section, we conduct experiments to make further study on users’ waiting time 
under the MSMP rule and also their equilibrium fee decisions, with the purpose to 
validate the above theoretical analysis.
4.1  Empirical analysis
First, we collect the real-world data from the Bitcoin system during January 2009 
and April 2019 as the experimental database. Until April 2019, the total invested 
computing power peaks at the hash rate 50 Eh/s, and the height of block in the 
Bitcoin system is 573,996; more than 17 millions Bitcoins have been mined and 
enter circulation, and the Bitcoin price is 5228.18 USD. Besides, the user size 
has increased to 7.5 millions, and the active address number has exceeded 35 mil-
lions. The overall trend of some important factors during this period are shown in 
(21)
�ipw(2� − � − 1)
��(1 − �)(� − 1)2
≤ f ≤
�ipw(� − 1)
��(1 − �)(� − 1)
.
Fig. 2  Difficulty
146 J. Li et al.
1 3
Figs. 2, 3, 4, 5, 6 and 7,1 including mining difficulty, transaction fees, miners’ rev-
enues, cost per transaction, median confirmation time, etc.
In the Bitcoin system, more and more miners are joining in mining, which make 
the computing power improve significantly; but meanwhile the mining difficulty 
increases sharply as shown in Fig. 2. The new block generation rate nearly keeps 
fixed under the compound effects of these two factors. As such, it is rational to con-
sider an exogenously fixed new block generation rate in the memory pool. Besides, 
Fig. 3  Cost per transaction (unit: USD)
Fig. 4  Average number of transactions per block
1 Source: https ://www.block chain .com.
https://www.blockchain.com
147
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
we look into the stability of the Bitcoin memory pool. Comparing the number of 
daily confirmed transactions to the number of transactions pending for confirmation 
in the memory pool, we can find that the submission rate is lower than the confirma-
tion rate in the long run, which is in conformity with the memory pool steady condi-
tion in Sect. 3.
Miners’ revenues mainly rely on the Coinbase reward currently, however it is pre-
determined to be halved about every four years. Although transaction fees take up 
very limited shares of miners’ revenues, i.e. about 5%, they show an upward trend in 
general and once hit up to over 30% in December 2017. Both the cost per transaction 
and average transactions per block have the fluctuating upward trend as shown in 
Fig. 5  Miners’ revenues (unit: USD)
Fig. 6  Transaction fees (unit: USD)
148 J. Li et al.
1 3
Figs. 3 and 4. In addition, from Figs. 5 and 6, we can also find that miners’ revenues 
and transaction fees show a generally similar trend. Hence, it is natural to predict 
that transaction fees will develop to be miners’ dominant economic incentives in the 
future.
In this paper, we use the median confirmation time to represent users’ waiting 
time, which is described by Fig. 7. Before July 2010, no user needs to submit fees 
in the transaction confirmation queueing game; and until December 2011, the wait-
ing time still kept to be zero for those who submitted transaction fees. This indicates 
that when the waiting time is very short (even equal to zero), the transaction confir-
mation queueing game has the equilibrium of no user submitting transaction fees. 
Since January 2012, the equilibrium of the transaction confirmation queueing game 
has evolved to have some users submitting transaction fees. According to [8], the 
equilibrium of all user submitting transaction fees are suggested by the late 2014. 
Although the waiting time fluctuates over time, transaction fees show a upward 
trend, which means the growing transaction fees are required to keep the relatively 
short waiting time as the Bitcoin system develops. The empirical analysis confirms 
that the practical equilibrium evolution of the transaction confirmation queueing 
game is in the conformity with our theoretical analysis in Sect. 3.
Then, we conduct the econometric analysis to explain the rationality of our trans-
action confirmation queueing game model formulation. According to discussions in 
Sect. 3, we establish the following simultaneous equations of the waiting time and 
transaction fees.
In the equations, the waiting time d is endogenous, which results in the non-con-
formance estimation when applying the ordinary least square (OLS) regression. 
(22)
dt = �10 + �11ft + �12st + �13mst + �14�t + �15St + �16Ht + �17�t + u1t
ft = �20 + �21dt + �22st + �23mst + �24�t + u2t
Fig. 7  Median confirmation time of transactions with fees
149
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
Also, the first equation is under-identified, while the second equation is over-iden-
tified. In view of these considerations, we utilize the two-stage least squares (2SLS) 
regression to gets rid of the possible correlation of the endogenous variable and the 
error through introducing the instrument variable d̂t . Accordingly, we run a 2SLS 
regression to get the following equations.
here the predicted d̂t is totally determined by the predetermined variables �t , St and 
Ht , which is then used in the second-stage regression.
We utilize the real-world data to conduct estimations of these parameters in Eq. 
(23), where st is the average transaction size computed by the average block size 
divided by the number of transactions per block, and mst is the memory pool size, 
�t is the number of unconfirmed transactions, �t is the number of daily confirmed 
transactions, and dt is the median confirmation time.
The estimated results are shown in Table 2. The results indicate that our formu-
lated model has good explanatory power on the research problem. Besides, they 
confirm the significantly positive effect of the waiting time as well as the memory 
pool size on transaction fees. However, although the average transaction size shows 
the negative effect on transaction fees, its coefficient cannot pass the significance 
test. It indicates that the average transaction size does not influence transaction fees 
in the transaction confirmation queueing game currently. In the same manner, the 
number of unconfirmed transactions also does not have significant effect on transac-
tion fees. In conclusion, the econometric analysis can supportively validate our theo-
retical discussions concerning users’ fees and waiting time in Sect. 3.
4.2  Computational experiments
In what follows, we design computational experiments to evaluate the game-theoret-
ical transaction confirmation queueing model as well as the corresponding equilib-
rium analysis. For simplicity, we take the transaction confirmation queueing game 
with two priorities for example, where the high priority is got through submitting 
the transaction fee while the low priority needs no fee. Using the real-world data, we 
can figure out that the daily submission rate is 257,987 and the daily confirmation 
(23)
d̂t = 𝜏0 + 𝜏1st + +𝜏2mst + 𝜏3𝛤t + 𝜏4St + 𝜏5Ht + 𝜏6𝛬t
ft = 𝜏20 + 𝜏21d̂t + 𝜏22st + 𝜏23mst + 𝜏24𝛤t + u2t,
Table 2  2SLS regression of 
transaction fees on the waiting 
time
Adjusted-R2
= 0.596 , F = 134.288 , Sig. = 0.000
Variable Coef. SE t Sig.
dt 21.083 7.583 2.780 0.006
st − 102.26 125.536 − 0.815 0.416
mst 3.553 0.452 7.867 0.000
�t 0.001 0.000 0.584 0.560
Constant − 58.425 56.994 − 1.025 0.306
150 J. Li et al.
1 3
rate is 258,204. Then, we randomly distribute the transaction submission rates of 
these two priorities. In addition, based on the results of econometric analysis, it is 
reasonable for us to consider si = 1 to calculate the optimal number of transactions 
recorded into a block.
In our computational experiments, users’ waiting time are shown in Table 3 and 
Fig. 8,2 where d1 is the waiting time of high-priority users and d2 is the waiting time 
of low-priority users. The average waiting time of all users is 1.8286. From experi-
mental results, we can find that:
• The average waiting time of high-priority users is 0.0321, which is distinctly 
shorter than the average waiting time of 12.4386 for low-priority users. More-
over, high-priority users can expect for the shorter waiting time under any 
submission rate distribution, even the shortest d2 exceeds the longest d1 . These 
Table 3  Users’ waiting time in 
the MSMP game (unit: min)
Mean Range SE
d
1
0.0321 [0.0055, 1.8266] 0.0952
d
2
12.4386 [1.8288, 1207.2719] 49.2100
Fig. 8  High-priority users’ waiting time in the MSMP games
2 Y-axis is logarithmic scale.
151
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
indicate that the high priority takes overwhelming advantages in the transac-
tion confirmation game in terms of reducing the waiting time.
• The submission rate distribution produces great influences on the waiting time 
of both priorities, and results in much higher variances of low-priority users’ 
waiting time. This indicates that high-priority users can expect for more stably 
short waiting time than low-priority users.
• With the increasing submission rate of high-priority transactions, the wait-
ing time of both priorities get longer. It indicates that the MSMP rule can not 
exert ideal effects on reducing users’ waiting time when a lot of transactions 
flow into the high priority.
Next, we investigate the equilibrium of the MSMP game, which is shown in 
Fig. 9, where �i and �i represent the highest and lowest unit time cost of all users, 
respectively. More formally, the equilibrium of the MSMP game can be described 
as:
• If ∀i ∈ N, f > 𝛼i∕10 , the MSMP game has the equilibrium of no user submit-
ting transaction fees;
• If ∀i ∈ N, f < 𝛼i∕100 , the MSMP game has the equilibrium of all users sub-
mitting transaction fees;
Fig. 9  The equilibrium of the MSMP game
152 J. Li et al.
1 3
• If ∃i ∈ N , �i∕100 ≤ f ≤ �i∕10 , the MSMP game has the equilibrium of some 
users submitting transaction fees. Besides, with the required transaction fee 
increasing, the proportion of fee-submitting users decreases slowly at first fol-
lowed by a sharp decline.
5  Discussion and implications
Users’ fee decisions depend on their trade-off between the required fees and the 
expected revenues, and they depend on time costs instead of transaction values to 
evaluate their revenues. The low time cost may result from either low unit time 
cost or the reduced waiting time, that is, users’ fee decisions depend on the com-
prehensive effect of their unit time costs and the waiting time. As indicated by the 
econometric analysis, users’ fee decisions are significantly affected by the waiting 
time. Generally, the high priority takes overwhelming advantages to the low priority 
in terms of more stably shorter waiting time as shown in the experimental results. 
Since the high priority is usually accompanied with high transaction fee, longer 
waiting time drives users to submit transaction fees in pursuit of desired priorities. 
Besides, the more impatient users with higher unit time costs have incentives to pro-
vide higher transaction fees to get higher priority with the purpose to reduce the time 
costs. These results provide good explanation of users’ fee decisions in the transac-
tion confirmation queueing game, and also suggest that the Bitcoin system’s fee pol-
icy should take both users’ unit time costs and their waiting time into consideration.
Our research has shown the conditions of three types of Nash equilibria in the 
full-information game, i.e. the equilibrium of no, all and some users submitting 
transaction fees, using both the theoretical analysis and computational experiments. 
Besides, the experimental results show that with the required transaction fee increas-
ing, the proportion of fee-submitting users decreases slowly at first followed by a 
sharp decline. In addition, over-high required fees will make the transaction confir-
mation game end up with no users submitting fees, which will make miners lose the 
necessary economic incentive to provide computing power to maintain the security 
and sustainability of the Bitcoin system. Based on the above analysis, we can also 
find the optimal fee of the Bitcoin system aiming to maximize total transaction fees 
paid for miners, and the computing process can be described as follows:
Given a transaction fee f, we can get the expected waiting time d1 and d2 , under 
which the equilibrium transaction fee of each user is achieved as f i . Then, the total 
transaction fee collected by the miners is 
∑
i f
i.
With the purpose of profit maximization, the Nash equilibrium with no user pay-
ing the transaction fee is not desirable for miners. Consequently, the optimal transac-
tion fee f ∗ should satisfy the condition that
Consider that si = 1 , and then all fee-paying users are submitting the identical trans-
action fee in the MSMP game. So, we have
(24)0 < f ∗ ≤ 𝛼i(d − d1).
153
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
where �(f ) is the proportion of fee-paying users under the transaction fee f. There-
fore, we obtain the optimal transaction fee as
The optimal transaction fee may be a relatively low fee making all users pay or a 
relatively high fee making some users pay. Under the former case, we have the opti-
mal transaction fee as
where � is an infinitely small positive number. Meanwhile, the corresponding maxi-
mal profit is P∗(1) = Nf ∗(1) . Under the latter case, the optimal transaction fee f ∗(2) 
should be set to achieve the maximal profit �(f ∗(2))Nf ∗(2) , thus we have
As such, we can get the optimal transaction fee
In this paper, we conduct the equilibrium analysis of the transaction confirmation 
game to figure out the conditions of different portfolio of users’ equilibrium strate-
gies. Moreover, given all users’ unit time costs, we can extend our model to derive 
the optimal transaction fee under different objectives on the basis of our equilibrium 
analysis, e.g. maximizing miners’ revenues, all users’ total payoffs, or the system-
level welfare and so on. Also, we can extend to study the priority rule according 
to different transaction confirmation characteristics in other blockchain systems and 
compute users’ waiting time accordingly.
To summarize, our research can not only help understand users’ fee decisions in 
the transaction confirmation game; but also provide useful references for the Bitcoin 
system to optimize the transaction fee policies. Therefore, our research can offer 
useful managerial insights to the transaction fee management in the Bitcoin transac-
tion confirmation queueing game.
6  Conclusions and future work
This paper highlights the importance of transaction fees in both the individual 
decisions and the system-wide sustainability in the Bitcoin system. We build a 
game-theoretical queueing model to investigate users’ fee decisions on trans-
action confirmation. Also, we conduct the empirical study and computational 
experiments to validate our theoretical analysis. Through discussing users’ fee 
decisions on maximizing their payoffs, we show the conditions of three types of 
(25)
∑
i
f i = �(f )Nf ,
(26)f ∗ = argmax
0<f≤𝛼i(d−d1)
[𝜃(f )Nf ].
(27)f ∗(1) = min[�i(d2 − d)] − �,
(28)f ∗(2) ∈ [�i(d2 − d), �i(d − d1)].
(29)f ∗ = argmax
[
Nf ∗(1), �(f ∗(2))Nf ∗(2)
]
.
154 J. Li et al.
1 3
Nash equilibria in the full-information game, i.e. the equilibrium of no, all and 
some users submitting transaction fees. Our research can help understand users’ 
fee decisions, which depend on the unit time cost and priority-based waiting time 
rather than the value of submitted transactions. Besides, we find that longer wait-
ing time encourages users to submit transaction fees, but with the required trans-
action fee increasing, the proportion of fee-submitting users decreases slowly at 
first followed by a sharp decline until no user submits fee. This can provide good 
support for Bitcoin system’s fee policy selection.
In the future work, we plan to address the limitations of the current research. 
In fact, the monetary price of the Bitcoin is vital for the participants’ decisions 
due to its high exchange rate with US dollars and its high volatility over time. 
Therefore, we will incorporate the dynamic Bitcoin price into the game-theo-
retical model to make further study of users’ transaction fee decisions. Second, 
on the basis of current research, we will further design novel priority rules to 
achieve some useful goals, e.g., reducing the waiting time difference between dif-
ferent priorities, shortening the longest waiting time, etc.
Acknowledgements We gratefully acknowledge the funding supports from the National Natural Science 
Foundation of China (#61533019).
Compliance with ethical standards 
Conflict of interest The authors declare that they have no conflict of interest.
References
 1. Nakomoto, S. (2008). A peer-to-peer electronic cash system. White paper. https ://bitco in.org/
bitco in.
 2. Alabi, K. (2017). Digital blockchain networks appear to be following Metcalfe’s Law. Electronic 
Commerce Research and Applications, 24, 23–29.
 3. Zhang, Y., Deng, R. H., Liu, X., & Zheng, D. (2018). Blockchain based efficient and robust fair 
payment for outsourcing services in cloud computing. Information Science, 462(2018), 262–277.
 4. Hawlitschek, F., Notheisen, B., & Teubner, T. (2018). The limits of trust-free systems: A litera-
ture review on blockchain technology and trust in the sharing economy. Electronic Commerce 
Research and Applications, 29, 50–63.
 5. Li, J., Yuan, Y., & Wang, F. (2019). A novel GSP auction mechanism for ranking Bitcoin transac-
tions in blockchain mining. Decision Support Systems. https ://doi.org/10.1016/j.dss.2019.11309 
4.
 6. Cong, L. W., & He, Z. (2017). Blockchain disruption and smart contracts. SSRN Electronic Journal. 
https ://doi.org/10.2139/ssrn.29857 64.
 7. Pisa, M., & Juden, M. (2017). Blockchain and economic development: Hype vs. reality. Center for 
Global Development Policy Paper.
 8. Easley, D., O’Hara, M., & Basu, S. (2019). From mining to markets: The evolution of Bitcoin trans-
action fees. Journal of Financial Economics. https ://doi.org/10.1016/j.jfine co.2019.03.004.
 9. Huberman, G., Leshno, J., & Moallemi, C. (2017). Monopoly without a monopolist: An eco-
nomic analysis of the Bitcoin payment system. SSRN Electronic Journal. https ://doi.org/10.2139/
ssrn.30256 04.
 10. Kasahara, S., & Kawahara, J. (2016). Effect of Bitcoin fee on transaction-confirmation process. 
Journal of Industrial and Management Optimization. https ://doi.org/10.3934/jimo.20180 47.
https://bitcoin.org/bitcoin
https://bitcoin.org/bitcoin
https://doi.org/10.1016/j.dss.2019.113094
https://doi.org/10.1016/j.dss.2019.113094
https://doi.org/10.2139/ssrn.2985764
https://doi.org/10.1016/j.jfineco.2019.03.004
https://doi.org/10.2139/ssrn.3025604
https://doi.org/10.2139/ssrn.3025604
https://doi.org/10.3934/jimo.2018047
155
1 3
Analyzing Bitcoin transaction fees using a queueing game model  
 11. Li, J., Yuan, Y., Wang, S., & Wang, F. (2018). Transaction queue game in Bitcoin Blockchain. 
In The 2018 IEEE intelligent vehicles symposium (IV’18), Changshu, China, June 26–30 (pp. 
114–119).
 12. Houy, N. (2014). The economics of Bitcoin transaction fees. SSRN Electronic Journal. https ://doi.
org/10.2139/ssrn.24005 19.
 13. Yuan, Y., & Wang, F.-Y. (2016). Blockchain: The state of the art and future trends. Acta Automatica 
Sinica, 42(4), 481–494.
 14. Yuan, Y., & Wang, F.-Y. (2017). Parallel blockchain: Concept. Methods and Issues, IEEE/CAA 
Journal of Automatica Sinica, 43(10), 1703–1712.
 15. Eyal, I., & Sirer, E. G. (2014). Majority is not enough: Bitcoin mining is vulnerable. In Interna-
tional conference on financial cryptography and data security (pp. 436–454). Berlin: Springer.
 16. Kaskaloglu, K. (2014). Near zero Bitcoin transaction fees cannot last forever. In The international 
conference on digital security and forensics (pp. 91–99).
 17. Back, A. (2002). Hashcash: A denial of service counter-measure. In USENIX technical conference.
 18. Moser, M., & Bohme, R. (2015). Trends, tips, tolls. A longitudinal study of Bitcoin transaction 
fees. In International conference on financial cryptography and data security (pp. 19–33). Berlin: 
Springer.
 19. Davidson, S., De Filippi, P., & Potts, J. (2016). Economics of Blockchain. SSRN Electronic Journal. 
https ://doi.org/10.2139/ssrn.27447 51.
 20. Catalini, C., & Gans, J. S. (2016). Some simple economics of the blockchain. SSRN Electronic 
Journal. https ://doi.org/10.2139/ssrn.28745 98.
 21. Csoka, P., & Herings, P. J. (2017). Decentralized clearing in financial networks. Management Sci-
ence. https ://doi.org/10.1287/mnsc.2017.2847.
 22. Kroll, J. A., Davey, I. C., & Felten, E. W. (2013). The economics of Bitcoin mining, or Bitcoin in 
the presence of adversaries. In Proceedings of Weis.
 23. Lavi, R., Sattath, O., & Zohar, A. (2019). Redesigning Bitcoin’s fee market. In The world wide web 
conference (pp. 2950–2956). New York: ACM.
 24. Iyidogan, E. (2018). Economic model of blockchain based cryptocurrencies. SSRN Electronic Jour-
nal. https ://doi.org/10.2139/ssrn.31528 03.
 25. Chalkias, K., & Dionysiou, I. (2016). Going beyond the coinbase transaction fee: Alternative reward 
schemes for miners in blockchain systems. In Pan-Hellenic conference on informatics (p. 35). Ber-
lin: ACM.
 26. Wong, J. I. (2014). New study: Low Bitcoin transaction fees unsustainable. http://www.coind esk.
com/new-study -low-Bitco in-trans actio n-fees-unsus taina ble. Accessed 13 October.
 27. Abdullah, A. (2018). Bitcoin transaction fee estimation using Mempool state and linear perceptron 
machine learning algorithm. Master’s Projects. 638.
 28. Leme, R. P., & Pure, T. E., (2010). Bayes–Nash price of anarchy for generalized second price auc-
tion. In IEEE 51st annual symposium on foundations of computer science (pp. 735–744). New York: 
IEEE.
 29. Kella, O., & Yechiali, U. (2007). Waiting times in the non-preemptive priority M/M/c queue. Com-
munications in Statistics Stochastic Models, 1(2), 257–262.
 30. Krishna, V. (2010). Auction theory. Berlin: Elsevier.
Publisher’s Note Springer Nature remains neutral with regard to jurisdictional claims in published 
maps and institutional affiliations.
https://doi.org/10.2139/ssrn.2400519
https://doi.org/10.2139/ssrn.2400519
https://doi.org/10.2139/ssrn.2744751
https://doi.org/10.2139/ssrn.2874598
https://doi.org/10.1287/mnsc.2017.2847
https://doi.org/10.2139/ssrn.3152803
http://www.coindesk.com/new-study-low-Bitcoin-transaction-fees-unsustainable
http://www.coindesk.com/new-study-low-Bitcoin-transaction-fees-unsustainable
	Analyzing Bitcoin transaction fees using a queueing game model
	Abstract
	1 Introduction
	2 Related literatures
	3 The transaction confirmation queueing game
	3.1 Users’ payoffs
	3.2 Users’ waiting time
	3.3 Users’ fee decisions
	4 Experiments
	4.1 Empirical analysis
	4.2 Computational experiments
	5 Discussion and implications
	6 Conclusions and future work
	Acknowledgements 
	References