A Blockchain-Based Online Game Design Architecture for Performance Issues
A Blockchain-Based Online Game Design
Architecture for Performance Issues
Dong Wenhao1 , Tang Yufang2,3 , and Xu Yan2,3(B)
1 Beijing University of Posts and Telecommunications, Beijing 100876, China
2 Shandong Normal University, Jinan 250014, China
yan.soe1011@gmail.com
3 Concordia University, Montreal H3G 1M8, Canada
Abstract. Online games are one of the ideal application scenarios of blockchain
technology, but the high real-time requirements of games and the throughput speed
of blockchain networks have become obstacles to the development of blockchain
games. In real application scenarios, because of the inevitable fork of blockchain, it
is difficult to significantly improve the processing speed of the blockchain through
the block generation rate when the block size and the size of each transaction data
are unchanged. Finally, it will affect the security of blockchain.In this article,
the theoretical model and actual situation of blockchain technical performance
are discussed by data modeling. And we propose a new blockchain game design
architecture. The result show that our architecture can process data at higher speeds
adn solve above problem efficiently.
Keywords: Blockchain · Design architecture · Online game
1 Introduction
Blockchain technologywas first proposed by Satoshi Nakamoto [1]. It is a decentralized,
non-tamperable, traceable, and trusted distributed database that is jointly maintained by
multi-participants who do not trust each other. Each transaction will be consistently
recorded in the nodes of the entire network after it is verified and agreed by the majority
of participants on the entire network. Once the transaction is recorded, no one can
tamper with it, thereby achieving credible multi-party data sharing, avoiding manual
reconciliation, eliminating intermediaries, and reducing transaction delays and costs.
In recent years, with the rapid development andwidespread application of blockchain
technology, blockchain games have begun to appear. As a single closed scene, the game’s
own virtual asset circulation, community autonomy, and virtual economic gene, mak-
ing it consider as one of the important application scenarios of blockchain technology.
Based on the new features of blockchain technology, blockchain games will bring new
design ideas and player experience into online game, and have high application value
for protecting the safety of game assets and the liquidity of player assets. However, the
blockchain system does not perform well in application scenarios such as games that
require high latency and concurrency [2]. Therefore, we need to find a solution to enable
the blockchain technology to work well in such scenarios.
© Springer Nature Switzerland AG 2020
Y. Lu et al. (Eds.): ICPRAI 2020, LNCS 12068, pp. 319–324, 2020.
https://doi.org/10.1007/978-3-030-59830-3_28
http://crossmark.crossref.org/dialog/?doi=10.1007/978-3-030-59830-3_28&domain=pdf
http://orcid.org/0000-0001-5993-7533
http://orcid.org/0000-0002-9877-6282
http://orcid.org/0000-0002-8038-6550
https://doi.org/10.1007/978-3-030-59830-3_28
320 D. Wenhao et al.
Although there are many applications of blockchain in games, the research on
blockchain games is rare. Among them, Guy Barshap [3] proposed a solution to trans-
plant a Battleships game (a traditional guessing game for two players) to the Ethereum
network, and solved the trust problem between players through the smart contract of
the Ethereum network. In his software architecture, there are three layers, presentation
layer, logic layer and data layer. The data is stored in the data layer on the blockchain
network, and the logic layer uses blockchain smart contracts for game control. Inspired
by the concept of sidechain [4], Daniel Kraft [5] proposed an off-chain interaction in a
game where players take turns performing operations. There is almost no need for public
blockchain space during the game. Once disputes arise, the public blockchain network
can be used to resolve these disputes. At the same time, Daniel Kraft proposed a mech-
anism that allows players to play games with blockchain miners to solve the problem
of random number security in current blockchain games. Han Shuang [6] analyzed the
feasibility and advantages of digital asset trading methods based on blockchain technol-
ogy, and demonstrated the application of blockchain technology in virtual asset trading.
At present, few researches of blockchain games focus on blockchain game security and
mutual trust, and lack of consideration and research on the operation speed of blockchain
games from the perspective of game design.
2 Blockchain Performance Issues
2.1 Theoretical Model of Blockchain Performance
TPS (transaction-per-second) is an important indicator used to measure the performance
of the blockchain. According to Satoshi Nakamoto, the TPS is proportional to the block
size and the growth rate of the main chain (blocks per second), inversely proportional to
the byte size of each transaction.
TPS = V
S
T
(1)
where V is the growth rate of the main chain, S is the block size, and T is the storage
space required for a single transaction.
Assume that there are N nodes in a blockchain system, and each node has the same
computing power, so the probability of any node obtaining a block bookkeeping right
is 1
N . Assume that the highest block number of the current main chain is j, and the node
number that obtained the accounting right is Ej. Ideally, when the blockchain network
does not fork, that is, when the time of the (j − 1)th block is transmitted from the Ej−1
node to the Ej node meets , then, the Ej node is the information of the (j − 1)th
block has been received at the jth block. Then, the system IO time is ignored, and all
newly generated blocks are linked to the main chain. At this time, the growth rate of the
main chain is equal to the block. The block output speed of the chain system is the
maximum performance of the blockchain.
(2)
A Blockchain-Based Online Game Design Architecture for Performance Issues 321
2.2 Blockchain Performance Model in Real Environment
Actually, when a fork causes some blocks to be linked outside themain chain, there exists
. At this time, if and , the system generates a fork, with . By
analogy, the expected value of is V:
(3)
assuming that follows a uniform distribution with a mean of α, the range of is [0,
2α]. Then, the expectations of V is:
(4)
where a is the average transmission time of the block in the P2P network. Taking the Bit-
coin network as an example, the size of each block is 1MB.Assume that the transmission
speed of the network is 512 Kb/s, then
α = 1× 1024× 8
512
= 16
Assume that the average value of T is 512 B, then a is substituted into the above
formula of the classification discussion. With the help of python’s matplotlib library, an
image of the function can be drawn (see Fig. 1).
Fig. 1. TPS changes with block generation speed
In the real production environment, because the fork of the blockchain is inevitable,
the line chart proves that it is difficult to significantly improve the performance through
322 D. Wenhao et al.
the block generation rate, when the size of the block and each transaction data are
unchanged. While if we try to increase TPS by increasing the capacity of a single block,
the expansion of the block capacity will increase the amount of data that nodes in the
blockchain need to store. For example, BCH uses 8 M block capacity, and the amount
of data will reach 400 GB in a year. It can not imagine how this will achieve sustainable
development. Increasing the size of the block will increase the transmission time of the
block in the network. Thus, it will lead to an increase in the probability of the block chain
forking, and then affect the security of the system. In addition, if we try to reduce the
space of data stored in a single transaction, equivalent to increasing the block capacity in
another way, the content of the block will increase, and the speaking right (the number
of recorded transactions) of the node with the block bookkeeping right will increase
accordingly, and the blockchain network will move toward the center. The continuous
evolution of the network has weakened the advantages of blockchain decentralization.
Obviously, no matter how to increase the block production speed, increase the block
capacity or reduce the storage space required for a single transaction, the performance
of the blockchain network can not be effectively improved.
3 Blockchain Online Games Design Strategy
3.1 Overall System Architecture
We propose a design strategy suitable for blockchain games, with the same response
speed as traditional online game, and taking advantage of blockchain technology in
game scenarios. We consider using a blockchain network in a game application with a
traditional server instead of just using the blockchain network to complete all network
requests. Considering the application value of blockchain technology in the game sce-
nario, requests related to game asset changes must be implemented using the blockchain
network, while requests from other subsystems of the game, such as in-game chat sys-
tems, battle systems with high real-time demand, and other systems that do not involve
changes to the ownership of virtual assets, can request data from traditional servers to
reduce delays in the game, while enhancing the concurrency of the game. Thus, the over-
all design architecture (see Fig. 2) of our system can be proposed and it distinguishes
network requests in blockchain games.
3.2 Blockchain Network Architecture
For the network request to process through the blockchain network, we design a cache
system to improve the processing efficiency of the system (see Fig. 3). The data request
is first retrieved in the Redis cache. If the query key is hit and the value is correct, the
key-value pair is directly manipulated and returned, then synchronize to each blockchain
network node. If the record is not hit, data operations will be added to a message queue,
waiting on the blockchain network. If multiple requests for the same data object are initi-
ated during the waiting period, they will be merged in the message queue and re-queued
to execute. After the blockchain is packaged to form a new block for the transaction, the
system will return the data result and synchronize it to the Redis system.
A Blockchain-Based Online Game Design Architecture for Performance Issues 323
Fig. 2. Game request processing logic
Fig. 3. Blockchain network cache system
4 Conclusion
In this paper, we analyze the problems existing in the application of blockchain technol-
ogy to online game, and propose a theoretically feasible strategy to solve this problem.
This solution can reduce the number of concurrent requests to the blockchain network,
and optimize the execution effect of a single transaction, effectively solving the network
congestion problem in game applications. In future work, we will verify and further
improve the strategy through real online game.
References
1. Nakamoto, S.: Bitcoin: a peer-to-peer electronic cash system. https://bitcoin.org/bitcoin.pdf.
Accessed 31 Jan 2020
https://bitcoin.org/bitcoin.pdf
324 D. Wenhao et al.
2. Utakaeva, I.K.: Directions and features of application of the blockchain technology. In: Journal
of Physics: Conference Series, p. 5 (2019). https://doi.org/10.1088/1742-6596/1353/1/012103
3. Barshap, G.: Crypto-Battleships or How to Play Battleships Game Over the Blockchain?, vol.
16 (2018). arXiv preprint arXiv:1807.08142
4. Back, A., Corallo, M., et al.: Enabling blockchain innovations with pegged sidechains. https://
www.blockstream.com/sidechains.pdf. Accessed 31 Jan 2020
5. Kraft, D.: Game channels for trustless off-chain interactions in decentralized virtual worlds.
Ledger 1, 84–98 (2016)
6. Han, S., Pu, B., Li, S., et al.: Application of block chain technology in digital asset security
transaction. Comput. Syst. Appl. 27, 205–209 (2018)
https://doi.org/10.1088/1742-6596/1353/1/012103
http://arxiv.org/abs/1807.08142
https://www.blockstream.com/sidechains.pdf
	A Blockchain-Based Online Game Design Architecture for Performance Issues
	1 Introduction
	2 Blockchain Performance Issues
	2.1 Theoretical Model of Blockchain Performance
	2.2 Blockchain Performance Model in Real Environment
	3 Blockchain Online Games Design Strategy
	3.1 Overall System Architecture
	3.2 Blockchain Network Architecture
	4 Conclusion
	References