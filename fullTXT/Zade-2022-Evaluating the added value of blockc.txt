Evaluating the added value of blockchains to local energy markets—Comparing the performance of blockchain‐based and centralised implementations
Received: 21 December 2021 - Revised: 19 January 2022 - Accepted: 29 January 2022 - IET Smart Grid
DOI: 10.1049/stg2.12058
OR I G INAL RE SEARCH
Evaluating the added value of blockchains to local energy
markets—Comparing the performance of blockchain‐based and
centralised implementations
Michel Zade | Marcello Feroce | Arturo Guridi | Sebastian Dirk Lumpp |
Peter Tzscheutschler
School of Engineering and Design, Technical
University of Munich, Munich, Germany
Correspondence
Michel Zade, School of Engineering and Design,
Technical University of Munich, Arcisstrasse 21,
80333 Munich, Germany.
Email: michel.zade@tum.de
Funding information
Bayerisches Staatsministerium für Wirtschaft,
Landesentwicklung und Energie, Grant/Award
Number: IUK589/001
Open Access funding enabled and organised by
Projekt DEAL
Abstract
The continuous decentralisation of the energy system due to the expansion of renewable
energies requires new coordination mechanisms such as Local Energy Markets (LEMs)
that are capable of integrating millions of prosumers as active participants. Since the end
of the 2010s, the blockchain technology has been discussed as a potential infrastructure
for LEMs and as a potential game‐changer in the energy industry. In this work, the
authors introduce LEM specific technology‐independent infrastructure requirements,
present a Solidity and Python toolbox that allows to compute a comparative performance
analysis between a blockchain‐based and a central LEM and evaluate the added value of a
blockchain‐based implementation compared to a conventional reference implementation.
Simulations of a LEM with a periodic double auction and settlement showed that a
blockchain‐based LEM operation requires more than 140 times the computation time
compared to a centralised implementation and cannot fulfil data security requirements.
Thus, the authors find that blockchain technology in its current state of development
does not add significant value to LEMs. All implemented programmes are published in
the open‐source project lemlab as part of the research project RegHEE.
1 | INTRODUCTION
Our energy system is continuously transforming from a
formerly centralised system with few fossil‐fuelled and nuclear
power plants to a renewable, distributed, and volatile energy
system consisting of millions of participants [1]. Consumers
become prosumers and legislation empowers individual
households to become an active part of the energy transition [2].
However, the conventional coordination mechanisms used
to manage a relatively small number of fossil‐fuelled power
plants are not‐transferable to millions of non‐professional
prosumer households [3]. Therefore, we need new coordina-
tion mechanisms that are capable of integrating millions of
prosumers as active participants into our energy system.
Recent research has investigated ideas such as aggregating
single households and marketing their surplus or deficits on
wholesale markets, operating them as Virtual Power Plant
(VPP), letting prosumers trade among each other in Peer‐to‐
Peer (P2P) or coordinated Local Energy Markets (LEMs), or
centrally optimising their control. As nations realise the ne-
cessity for new ways of coordination, they start to incentivise,
enable, or fund various variants of the aforementioned ideas
[2, 4]. In this work, we focus on auction‐based LEMs. LEMs
allow prosumers to trade their energy surpluses and deficits
locally, to react to external signals such as prices, thereby
making them an active part of the energy system [5]. At the
same time, LEMs do not necessarily require prosumers to
disclose too much personal data and can enable grid operators
to maintain grid stability [6].
Towards the end of the 2010s, researchers and the energy
industry started to discuss whether the blockchain technology
could provide significant benefits to LEMs while at the same
time being transparent, automated, and completely decentral-
ised [7]. Immediately following the launch of the Ethereum
This is an open access article under the terms of the Creative Commons Attribution‐NonCommercial License, which permits use, distribution and reproduction in any medium, provided
the original work is properly cited and is not used for commercial purposes.
© 2022 The Authors. IET Smart Grid published by John Wiley & Sons Ltd on behalf of The Institution of Engineering and Technology.
234 - IET Smart Grid. 2022;5:234–245. wileyonlinelibrary.com/journal/stg2
https://doi.org/10.1049/stg2.12058
https://orcid.org/0000-0002-4949-9960
mailto:michel.zade@tum.de
https://orcid.org/0000-0002-4949-9960
https://ietresearch.onlinelibrary.wiley.com/journal/25152947
http://crossmark.crossref.org/dialog/?doi=10.1049%2Fstg2.12058&domain=pdf&date_stamp=2022-02-07
blockchain in 2015 and the introduction of smart contracts, a
study was published by PricewaterhouseCoopers summarising
the potential opportunities of lower transaction costs, trans-
parency, and the ability to become electricity or service pro-
viders for prosumers and consumers [8]. In the same year, the
German energy agency Dena conducted a survey among
managers of the energy industry and found that half of the 70
managers interviewed were already experimenting with block-
chains or planning to and 21% said that blockchain would
become a ‘game changer’ in the energy industry [9]. In 2018,
the Forschungsstelle für Energiewirtschaft characterised
blockchain as tamper proof, reliable, transparent, highly auto-
matable, and easily accessible and identified 91 potential use
cases in the energy sector [10]. The first scientific papers on
blockchains from an energy perspective investigated the po-
tential in microgrid exchanges [11], P2P electricity trading
among hybrid electric vehicles [12], and among neighbours [13,
14]. The number of scientific publications has since increased
year by year [15–17]. For a detailed description of blockchain
technology, see section Blockchain technology of the appendix.
Most papers investigating auction‐based LEMs in a
blockchain network demonstrated their feasibility on different
kinds of blockchains such as Tendermint [18], Ethereum
[19, 20], Hyperledger [21], proprietary blockchains [22], or
compared different consensus mechanisms [23, 24]. Other
papers described off‐chain market‐clearing algorithms, using
the blockchain only to represent monetary values or to store
market results [25–28]. Off‐chain refers to a centralised system
hosted by a single entity that retrieves data from the blockchain
(on‐chain), processes it on its own system, and then returns the
results to the blockchain in order to reduce the computational
complexity on‐chain. Troncia et al. implemented different
variants of LEMs on a blockchain that considered network
constraints and compared them to an optimal power flow
result [29]. Meeuw et al. compared and evaluated smart grid
communication technologies for blockchain applications [30]
and Christidis et al. analysed how market positions are effi-
ciently encrypted on a blockchain so that closed‐order book
LEMs are possible [31].
Narrowing the search to papers that include an auction‐
based LEM on a blockchain and a performance or scalability
analysis, we find papers such as Han et al. that present the
throughput, latency, and computational expenses of a single
setup [32, 33] or of functionally differing algorithms [34, 35].
Other papers conduct economic analyses of their imple-
mentations [27, 36]. However, no publication was found that
includes an auction‐based LEM on a blockchain, compares its
performance to a centralised system, and assesses the actual
added value of blockchains to LEMs based on application‐
specific infrastructure requirements.
Therefore, this paper addresses the above‐mentioned
research gap by investigating whether a blockchain‐based
implementation adds significant value to auction‐based
LEMs in comparison to a centralised implementation. Within
this paper, we introduce application‐specific infrastructure re-
quirements for LEMs, present an open‐source evaluation
toolbox for centralised and blockchain‐based LEM
applications, discuss the results of a comparative performance
analysis, and evaluate whether the implementations under
investigation can fulfil the introduced requirements.
The paper is structured as follows. Section 2 introduces the
application‐specific infrastructure requirements for LEMs
while section 3 describes the experimental setup of the eval-
uation toolbox with the blockchain‐based and centralised LEM
implementations. Section 4 presents the results of the
comparative performance analysis, which are discussed in
section 5. Finally, section 6 puts the findings of this paper into
a broader perspective.
2 | INFRASTRUCTURE
REQUIREMENTS FOR LOCAL ENERGY
MARKETS
Recent technological advancements such as the blockchain
technology, machine learning, Internet of things, or artificial
intelligence allow us to design new systems or re‐implement
existing systems in new ways. Despite these new possibilities,
we must define requirements for LEMs that need to be fulfiled
by any infrastructure or algorithm that handles personal data
and is connected to our energy system (see [35, 37, 38]). We
summarise technology‐independent infrastructure re-
quirements that are in our opinion essential for LEMs in the
following paragraphs.
2.1 | Reliability
A reliable software can be described by the probability of
failure‐free operation [39]. Applied to a LEM, we can define a
‘failure‐free’ operation as the availability of the LEM for pro-
sumers, grid and market operators, as well as the correct
processing of data.
2.2 | Scalability
A scalable system ensures that a given quality of service is
maintained as data input increases [40]. A LEM, for example,
must fulfil temporal requirements such as a 15 min market
interval. In addition, a scalable infrastructure must provide
developers with the ability to implement the necessary func-
tions has an only open‐source community that improves and
documents functionalities and bottlenecks, and, ideally, pro-
vides pre‐built libraries for efficient implementations.
2.3 | Data security
An executing infrastructure must comply with existing data
protection regulations, depending on the data processed. In the
case of a LEM, we process personal data in the form of ac-
count balances, market positions, and meter readings, which
requires the infrastructure to comply, for example, in Europe
ZADE ET AL. - 235
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
with the General Data Protection Regulation (GDPR). Market
positions refer to a tuple of quantity and price placed by
prosumers on LEMs in order to express their willingness to
buy or sell energy. In addition, closed‐order book auctions
such as a Periodic Double Auction (PDA) require that market
positions must be kept concealed in order to prevent gaming.
Gaming refers to agent strategies that depend on the expected
decisions of other agents [41] and potentially manipulate a
market.
2.4 | Tamper resistance
The infrastructure must ensure that stored data cannot be
manipulated, is trustworthy and should automatically detect
manipulations [37]. Optimally, the validity of the data can be
confirmed by anyone.
2.5 | Low operating costs
When considering LEMs for prosumers that trade on an hourly
or quarter‐hourly basis with traded volumes of a few 100 Wh, it
is important that the operating costs of the platform do not
significantly influence the incentive to participate in LEMs.
3 | EVALUATION TOOLBOX
In order to objectively compare a blockchain‐based and cen-
tralised LEM, we built the comparative performance analysis
toolbox for lemlab. The functional and implemented software
components of the toolbox are described in the following
subsections. Figure 1 visualises the functional components of
the evaluation toolbox. The toolbox consists of a prosumer
simulation, a blockchain‐based, and a centralised LEM imple-
mentation. The performance analysis module is not visualised
but accesses the results on the blockchain and the centralised
database. The following subsections describe the functional
LEM modules, implemented connector classes, used block-
chain and central database configuration, and prosumer
simulation.
3.1 | Local energy market functions
This section describes the main functions of the LEM from
user management to market clearing and settlement. This
description is technology independent since it has been
mirrored on both systems.
3.1.1 | User and meter management
Before a user can participate in a LEM, a user account
needs to be created, labelled, and linked to corresponding
meters and their Home Energy Management Systems
(HEMSs). HEMSs refer to a smart home device that col-
lects data from the household, retrieves forecasts, has a web
interface to the user, optimises operating strategies, acts on a
LEM on behalf of the household, and controls the house-
hold devices accordingly. During operation it may be
necessary to add new users or meters, to edit, or delete
existing ones. Additionally, users and market operators must
F I GURE 1 Schematic of the evaluation toolbox to analyse the performances of a blockchain‐based and central Local Energy Market (LEM). The
abbreviations BC refers to a blockchain module and DB to a centralised database module. The performance analysis module is not visualised in the functional
overview of the toolbox but accesses the results on the blockchain and the central database
236 - ZADE ET AL.
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
be able to access and alter their data on the LEM. The
functions that manage user accounts and meters are nor-
mally executed only when a user is added or if unexpected
events happen that influence user accounts (e.g. a replaced
meter).
3.1.2 | Market clearing
The main goal of a LEM is to match supply and demand
energy locally between prosumers. However, different ap-
proaches exist which differ greatly and can be distinguished
by their market‐clearing time. If a LEM is cleared before the
energy is exchanged between LEM participants, we talk about
an ex‐ante clearing. For an ex‐ante clearing, we need feed‐in
and consumption forecasts and a settlement that calculates
differences between market results and meter readings. A
LEM that clears energy after it has been exchanged is called
an ex‐post clearing and does not require any forecasts. In this
context, we will often talk about the time of delivery that
refers to the starting point of the energy exchange period.
The toolbox presented in this paper contains an ex‐ante
clearing but can be easily extended to incorporate ex‐post
clearings.
Market‐clearing algorithms can be further distinguished by
the clearing mechanism. In the literature, we often find a
Continuous Double Auction (CDA) that clears the market
whenever new market positions are placed on the LEM or a
PDA that clears the market at pre‐defined intervals [42]. Since
CDAs discriminate prosumers with slower internet connec-
tions and motivate high‐frequency trading [43], we imple-
mented a standard PDA in the LEM toolbox that clears in
quarter‐hourly intervals market positions based on their
quantity and price. Market positions are placed by market
agents that trade energy on LEMs on behalf of prosumer
households.
In summary, the market‐clearing functions read stored
market positions, compute a sorted ascending supply and a
descending demand curve, find the intersection of the two,
calculate a uniform clearing price, label cleared positions, and
store them.
3.1.3 | Settlement
After the ex‐ante market clearing and the exchange of energy
took place for a specific time of delivery, the LEM needs to
be settled. Settling a market refers to functions that are
executed after meter readings are transferred to the LEM.
After the arrival of meter readings, balancing energies can be
calculated for each user. Balancing energy refers to the dif-
ferences between market results and measured energy con-
sumption and feed‐in. Based on balancing energies user
accounts are credited or debited by the appropriate amounts.
Finally, price components such as grid fees and taxes are
applied.
3.1.4 | Labelling
Labels in a LEM offer prosumers information about the origin
of their consumed electricity and ideally motivate consumers to
consume more climate‐neutral and less fossil‐fuelled energy
(see [44]). In the evaluation toolbox presented in this paper, the
labelling of energy quantities is implemented in all of the
aforementioned LEM functions as pre‐defined energy quali-
ties. Energy qualities refer to labels such as green, local, or
local‐green electricity but can be easily replaced by any other
label type.
During a user registration, each meter that measures energy
feed‐in is labelled with a specific energy quality. Whenever
prosumers wish to sell energy from or to the LEM, market
agents on behalf of their prosumer households place ask po-
sitions with the quality labels of their meters on the LEM.
After the PDA, cleared energy qualities can then be labelled
based on the shares of the cleared ask positions. Finally, set-
tlement functions label balancing energies based on the actual
shares exchanged in the LEM or as an unknown energy quality.
3.2 | Local energy market connectors
In order to interact with the central database and the block-
chain infrastructure, we implemented two Python classes that
abstract all interactions with the two database infrastructures
for the LEM user. These connectors retrieve data from the
databases, trigger functions in smart contracts, and wait for
transaction receipts in order to ensure a completed execution.
3.3 | Ethereum blockchain
This subsection describes all components that are necessary to
implement a LEM on a private or consortium Ethereum
blockchain. The words private and consortium indicate the
accessibility and operation type of the blockchain network.
Private blockchains are operated and useable only by a ho-
mogeneous group such as a company, whereas consortium
blockchains are operated and managed by a variety of groups
or institutions [45].
As this paper focusses on the implementation of a LEM
application, we used a private blockchain with a Proof‐of‐
Authority (PoA) consensus mechanism. This setup allows us
to have an insignificant energy demand, to minimise external
influences, and to modify the blockchain's parameters ac-
cording to our will (see [24]). We set up two Linux machines as
block validators, signing blocks every 5 s. To allow LEM ex-
ecutions with more than a hundred market positions, we set
the block gas limit to 1.5 billion gas. All connected nodes use
OpenEthereum clients that establish the connection to the
network.
In Ethereum, all functions are implemented in smart
contracts. The following paragraphs summarise their func-
tional scope.
ZADE ET AL. - 237
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
ClearingExAnte: the contract contains all functions for the
market clearing and stores static and dynamic user data. Static
user data refer to users' identifiers on the platform and their
related meters. Dynamic user data refer to their placed market
positions. As for the clearing functionality, we implemented
functions that sort all placed market positions, filter them by
their time of delivery, calculate a market‐clearing price, calcu-
late the cleared energy qualities, and update user balances. In
addition, the contract contains functions to add, edit, or
remove users and meters, and to place market positions.
Settlement: functions that are executed after energy has
been exchanged between LEM users and meter readings are
available. In this contract, we store all meter readings,
balancing energies, and settlement prices in a ‘rolling horizon
array’ for a configurable number of timesteps. The rolling
horizon approach allows us to keep the storage consumption
to a minimum. Past data can be accessed via past blocks.
Furthermore, this contract is linked to the ClearingExAnte
contract at deployment in order to access market results and
user data.
Sorting, Param, and LEMLib: in addition to the core
modules ClearingExAnte and Settlement, we implemented a
variety of reusable subcontracts that contain static LEM pa-
rameters, data structures for exchanged and stored informa-
tion, sorting algorithms, and a variety of array functions, for
example, finding the minimal and maximal value of an array.
Especially, the sorting library with implementations of
quick_sort, counting_sort, and insertion_sort offers a variety
of different sorting algorithms in Solidity. These functions are
implemented in the contracts Sorting, Param, and LEMLib.
3.4 | Central database
Our central reference database setup is a relational database
implemented as a PostgreSQL server. On this server, we set up
roles for market operators and users who have different
reading and writing privileges on the different tables. Features
such as composite keys and upsert statements are used in order
to prevent data collisions. Multiple tables store LEM data
ranging from static user and meter information to dynamic
market positions and results, meter readings, balancing en-
ergies, and settlement prices. The number of tables increases if
additional market‐clearing variants are executed in parallel.
3.5 | Prosumer
In a real‐world setting, a prosumer would need to be equipped
with a HEMS that acts on the LEM on behalf of the prosumer,
and a smart meter to reliably transmit verified meter readings to
the platform. Such a prosumer configuration is set up in a
German field trial with 17 households as part of the research
project RegHEE—Local Trade of Renewable Energies and
Labelling on a Blockchain Platform [46]. As the focus of this
paper is not to precisely model prosumer behaviour but to
analyse whether the LEM requirements can be fulfiled by a
blockchain‐basedLEMand a centralised approach,we simulated
prosumer inputs in a data generator arbitrarily (see Figure 1).
During market initialisation, we generate a pre‐defined
number of user accounts and associated smart meters and
register them on the two LEM platforms. Afterwards, the bid
generator creates a random set of market positions based on
parameter ranges given in Table 1 and pushes them into the
two LEMs. After the ex‐ante market clearing is completed, the
data generator retrieves the market‐clearing results from
the LEM platforms, adds or subtracts an arbitrary value from
the market results and reinserts these values as meter readings
to the platform. The arbitrary values simulate deviations from
the market results. In order to generate independent and
identically distributed (i.i.d.) random data samples, we used the
numpy package random.
4 | COMPARATIVE PERFORMANCE
ANALYSIS
This section presents a quantitative performance evaluation of
the decentral blockchain‐based LEM and the central database
LEM. After briefly describing the setup of the analysis, we will
present the results of the analysis in three parts: an equality
check, a time complexity analysis, and a computational effort
analysis of the blockchain‐based LEM. The script to conduct
this or similar analyses is publicly available in the open‐source
project lemlab [47].
4.1 | Configuration
For this performance analysis, we implemented automated test
cases that insert a random set of market bids, clear the cen-
tralised and blockchain‐based LEM using the same market
positions, simulate meter readings with arbitrary deviations
from the market results, and settle the central and blockchain‐
based LEMs according to the meter readings. These test cases
were executed for 50 to 550 market positions with an incre-
ment of 50. The maximum number of 550 inserted market
positions is a direct consequence of the set block gas limit of
1.5 billion gas. The block gas limit refers to the maximum
number of operations, measured in Ethereum's own compu-
tational currency gas, that can be inserted into a block to
ensure a decentralised consensus mechanism. In each test, we
measure the execution time for position placement, market
clearing, logging of meter readings, and market settlement.
Additionally, we measure the gas consumption and compare
TABLE 1 Parameters used in the comparative performance analysis
to simulate prosumer buy and ask bids on the LEM
Parameter Value range Unit
type {buy, sell} ‐
qty U(1, 1000) Wh
price U(0.2, 0.1) €/kWh
238 - ZADE ET AL.
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
whether the results of the two markets are equivalent. All test
cases and market position placements are executed from a
single computer that is connected to the institute's Local Area
Network (LAN). The two blockchain authorities and the
central database server are connected to the same network. In
order to reduce the impact of blockchain node instabilities and
network loads, we executed all test cases 10 times and restart a
test in case of connection problems. Hence, a total of 110
simulations in approximately 22 h were executed for this
analysis.
4.2 | Equivalence analysis
Before we compare the computation time of the blockchain‐
based and central LEM, we need to ensure that both imple-
mentations computed equivalent results. However, equivalent
results must be defined first. Since the PDA only sorts market
positions by price, it is possible that positions from different
users but of the same type and price lead to different results on
two different systems because the sorting might place one
position before the other. Even though, the results are not
equal they can be considered equivalent and valid as long as
they maximise social welfare and ensure individual rationality.
Therefore, we considered market results equivalent if they
cleared an equal social welfare. Social welfare is defined as the
area enclosed by the supply and demand curve and the y‐axis
[48]. All 110 simulated test cases resulted in equivalent market‐
clearing results. Thus, we have demonstrated that a blockchain‐
based LEM is capable of computing equivalent results to a
centralised implementation.
4.3 | Time complexity analysis
In this subsection, we present the results of the time
complexity analysis. In a time complexity analysis, we insert an
increasing amount of data into our function under investiga-
tion and measure the times basic operations are executed or
the wall clock time the algorithm under investigation requires
to process inserted data. In a blockchain setup, we need to
consider a significant amount of time to wait for transaction
receipts that ensure the correct processing of the data.
Therefore, a pure consideration of the basic operations would
be insufficient. Hence, we assume wall clock measurements of
a time complexity analysis with 10 simulations of the same
experimental setup and visualising the distribution of those
measurements as a reasonably accurate approach to evaluate
and compare the performance of the centralised and
blockchain‐based LEM. We acknowledge that wall clock
measurements are dependent on the network load and the
executing machine. Therefore, we limited the blockchain
network load as much as possible by only executing LEM‐
related transactions during the experiment. These measure-
ments are then used to evaluate the performance and scalability
of the two LEM implementations.
Figure 2 shows the computation time of the centralised and
blockchain‐based LEM. The measurements include the time to
post the market positions on the LEM, calculate a market‐
clearing price, log meter readings, and settle the LEM.
Additionally, we calculated the ratio of the means of the
computation times for each number of inserted positions. All
shown data points were fitted with polynomials from the
numpy polyfit library. Coefficients and residuals for the fitting
curves are summarised in Table A1.
Since both versions of LEM are triggered and run on
the same computer, the results depend on the computer's
performance. As the simulations ran for approximately 22 h
inside the institute's internal network, we were not able to
exclude all peripheral network load effects. However, the
spreads of results across the 10 samples in Figure 2 show
that most peripheral network load effects were within
insignificant ranges and allow us to use our timing results as
reasonable comparative parameters. The centralised LEM
takes 0.65 s to process 50 and 2.3 s for 550 market
bids. The green dotted curve represents a second‐order
polynomial.
The blockchain‐based LEM processes 50 bids in 94 s and
550 bids in 1343 s on average. The blue dotted curve is a
second‐order polynomial. Diamond markers in Figure 2 visu-
alise the ratio between the mean blockchain‐based and cen-
tralised LEM computation times and allow us to quantify the
performance of the two algorithms independent of the
executing machine's performance. We see that the computation
time for 50 bids is 144 times and, for 550 bids, it is 583 times
larger than on the blockchain‐based LEM.
Since the calculation time for 450 entered market positions
already exceeds a 15 min market interval, we consider the
entered number of market positions to be sufficient to evaluate
the usability of a blockchain‐based LEM in a realistic
environment.
Furthermore, we analysed which functions require the
most computation time and visualised the percentage of
computation time for the centralised and blockchain‐based
LEM in Figure 3. In the case of the central LEM, the
computation shares stay almost constant from 50 to 550
inserted bids. Posting bids consumes from 2.6% to 5.5%,
logging meter readings less than 1%, clearing the market
41%–44%, and settling the market 52%–56% of the
computation time on the central LEM. On the blockchain‐
based LEM, the shares shift from the lowest to the highest
amount of inserted bids significantly. The share for market
clearing increases from 38% for 50 inserted bids to 58% for
550 bids. At the same time, the share for the market settle-
ment decreases from 53% for 50 bids inserted to 37% for
550 bids. Posting bids and logging meter readings stay in the
ranges from 5% to 1% of the computation time.
Based on these results, the blockchain‐based market‐
clearing algorithm should be the first to be investigated in
terms of its optimisation potential. The appendix contains the
results of the Ethereum‐specific gas consumption (see
Figure A1).
ZADE ET AL. - 239
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
5 | DISCUSSION
We will first discuss whether both implementations meet the
LEM specific infrastructure requirements introduced in sec-
tion 2 before putting the results in a broader perspective.
As mentioned in section 4.2, we were able to compute
equivalent results on the blockchain‐based and central LEM.
Hence, we conclude that both implementations are reliable in
terms of correct data processing. It is worth mentioning that this
correct data processing was only possible with the help of
F I GURE 2 Purple and green box plots show the computation time in seconds on the left y axis. Outliers are marked as circles. Boxes indicate the first and
third quartile, and whiskers 1.5 of the inter‐quartile range (between first and third quartile). Orange markers indicate the ratios of mean blockchain to centralised
Local Energy Market (LEM) computation times as a scatter plot on the right y axis. Coefficients for the polynomial fitting curves are summarised in Table A1
F I GURE 3 Share of computation time used for the main Local Energy Market (LEM) functions: posting bids, market clearing, meter reading logging, and
market settlement in the blockchain‐based and central LEM
240 - ZADE ET AL.
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
waiting periods for transaction receipts that increased the overall
computation time extensively and made the wall time mea-
surements necessary for the time complexity analysis. In addi-
tion, the blockchain‐based LEM did not prove to be
continuously available during the analysis because the block-
chain node lost frequently the connection to the network and
needed to be restarted due to unidentifiable synchronisation
problems. On the other hand, the central LEMdid not cause any
connection problems during our analysis. Hence, we conclude
that the blockchain‐based LEM is less reliable for a continuous
operation compared to a centralised implementation.
As the open‐source project lemlab shows, a LEM is pro-
grammable and deployable on an Ethereum blockchain
network. The results of the performance analysis indicate that
the implemented blockchain‐based LEM is scalable up to 400
bids in a time of less than 900 s, which would correspond to a
15‐min market interval. Further improvements in the code can
potentially increase the number of processable market posi-
tions in both implementations but we do not expect the rela-
tive difference of computation times to be significantly
affected. Therefore, we conclude that the blockchain‐based
LEM is limited in its scalability and would likely not allow
the use of advanced market‐clearing algorithms such as opti-
misation functions. The central LEM processed 550 market
positions in less than 3 s and single experiments showed that
10,000 market positions can be processed in less than 5 min.
Noteworthy are the necessary modifications of the blockchain
parameters such as gas floor target, transaction gas limit, and
gas capacity to 1.5 billion gas in order to insert transactions for
the market clearing with more than 1 billion gas. If we would
have kept them at their default with an average of 15 million
gas, we would not have been able to process 50 bids on the
LEM and would have needed to split the functionality further
apart.
In addition, we want to point out major challenges that
hindered an efficient implementation: basic libraries for sorting
and filtering data on blockchains are not available, variable size
arrays could not be initialised, debugging Solidity code is still a
major obstacle and slows down development due to missing
integrated development environments for larger code projects,
and the stability of blockchain nodes on Windows machines
was insufficient for development but could potentially be fixed
with additional blockchain authorities running on Windows
machines.
Whether our implementation is GDPR compliant and a
pseudonym for users is sufficient to anonymise personal data is
a matter of legal assessment and is likely to vary from country
to country. What we can say with certainty is that all market
positions and meter readings are transmitted to the blockchain
network as unencrypted transactions. However, the
blockchain‐based LEM can be gamed as long as the positions
are written unencrypted to the blockchain. Christidis et al.
presented three variants of encrypting positions in a first phase
and sending a key for their decryption in a second phase that
potentially can avoid LEM gaming [31]. Nevertheless, position
encryption and decryption would increase computation time
and would not be useful for privacy applications such as
logging of meter readings. Overall, we conclude that the
blockchain‐based LEM implementation cannot fulfil the data
security requirement. The central LEM can fulfil the require-
ment as long as the position and meter reading transfer can be
encrypted and the access rights to the central database are
carefully designed.
By nature, data that is stored in the state of the blockchain
is tamper proof as long as hash functions cannot be reversed.
In this context, the blockchain has a significant advantage over
a centralised system that stores data on a proprietary server and
can manipulate it at will. Nevertheless, we would like to
emphasise that trusted entities that insert data into the
blockchain are potential vulnerabilities in terms of tamper
proof. If they are not completely trustworthy, the advantage of
a tamper‐proof blockchain is gone. In contrast, the possibilities
to manipulate a central LEM are for a market operator
manifold. Therefore, a tamper‐resistant central LEM requires
all LEM participants' trust.
In order to ensure a continuous prosumer household
participation, operating costs need to be low, especially, when
we consider the significantly smaller energy quantities,
compared to a wholesale electricity market. Since we used an
energy‐efficient PoA consensus mechanism in our setup, the
energy demand is insignificantly low and can be compared to a
centralised setup that has redundant servers running (see sec-
tion Blockchain technology). Therefore, we conclude that low
operating costs are achievable with a central and a blockchain‐
based LEM implementation. Table 2 summarises the LEM
requirement analysis.
Finally, the question remains as to how decentralised our
blockchain‐based LEM actually is. In our LEM, we need a
market operator who adds users, maps them to their meter
readings, keeps them accountable for their actions on the
LEM, and triggers the market clearings periodically. Some of
those functionalities could be implemented in smart contracts
but would further inflate the computation time and were out of
the scope of this project. Additionally, we would need to select
trustworthy authorities that validate new blocks and ensure
that they do not illegally collude. In summary, a decentralised
blockchain‐based LEM would need to be designed extremely
carefully, is not readily feasible, and may need to be regulated.
TABLE 2 Qualitative comparison of Local Energy Market
requirement fulfilment
LEM requirement Central LEM Blockchain‐based LEM
Reliability + + +b
Scalability + + −c
Data security + + − −
Tamper resistance +a + +
Low operating costs + + + +d
aIf market operator trustworthy.
bIf we wait for transaction receipts.
cUp to 400 market positions for a 15 min market interval.
dIf we use energy‐efficient and not completely decentralised consensus mechanisms.
ZADE ET AL. - 241
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
6 | CONCLUSION
This paper presents LEM specific infrastructure re-
quirements, a modular open‐source Solidity toolbox for
LEMs that allows to develop applications for a blockchain‐
based and a central reference setup in parallel and to
quantify and evaluate their performances against each other.
Furthermore, we show the results of a comparative perfor-
mance analysis and discuss whether the technology‐
independent LEM specific infrastructure requirements are
met by the blockchain‐based and central LEM implementa-
tions. Our results indicate that the blockchain promises of a
decentrally and transparently managed infrastructure can only
be realised to a limited extent in the context of LEMs, that a
blockchain‐based LEM implementation is reliable but re-
quires more than 140 times the computation time compared
to a centralised implementation, and cannot fulfil data se-
curity requirements. Only the tamper resistance represents a
significant added value that comparable centralised imple-
mentations cannot provide to a similar degree. Thus, we
conclude that blockchain technology in its current state of
development is not a ‘game changer’ for LEMs. Neverthe-
less, we invite researchers to collaborate and work on the
open‐source LEM toolbox [47], adapt it to their needs, and
send us their suggestions for improvements. The solidity
toolbox for LEMs is another part in the scientific toolset to
model prosumer‐centric applications more precisely and
evaluate the potential of blockchain implementations in the
energy context. Future research should focus on the identi-
fication of optimisation potential, verifiable tamper resistance
in proprietary systems, data security on blockchains and their
legal assessment, and a deeper analysis of the timing
complexity.
ACKNOWLEDGEMENTS
This work was funded by the Bavarian Ministry of Economic
Affairs, Regional Development and Energy, Germany and
supported by the Zentrum Digitalisierung.Bayern, Germany
(grant number IUK589/001).
Open access funding enabled and organised by Projekt
DEAL.
CONFLICT OF INTEREST
The authors have no conflicts of interest to declare that are
relevant to the content of this article.
DATA AVAILABILITY STATEMENT
The data that support the findings of this study are openly
available in lemlab repository at https://github.com/tum‐ewk/
lemlab.
ORCID
Michel Zade https://orcid.org/0000-0002-4949-9960
REFERENCES
1. Renewable capacity statistics 2021 (19.04.2021) https://www.irena.org/
publications/2021/March/Renewable-Capacity-Statistics-2021
2. European Parliament, Council of the European Union. Directive (eu)
2019/944 of the european parliament and of the council of 5 june 2019
on common rules for the internal market for electricity and amending
directive 2012/27/eu (recast): directive (eu) 2019/944 (06/2019) (2019).
https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.
2019.158.01.0125.01.ENG&toc=OJ:L:2019:158:TOC
3. Khorasany, M., Mishra, Y., Ledwich, G.: Market framework for local
energy trading: a review of potential designs and market clearing ap-
proaches, IET Generation. Transm. Distrib. 12(22), 5899–5908 (2018).
https://doi.org/10.1049/iet-gtd.2018.5309
4. Post‐2025 market design: directions paper (2021). https://esb-post2025-
market-design.aemc.gov.au/32572/1609802925-p2025-january-directions-
paper.pdf
5. Mengelkamp, E.M.: Engineering local electricity markets for residential
communities (2019). https://doi.org/10.5445/IR/1000095229
6. Tushar, W., et al.: Peer‐to‐peer energy systems for connected commu-
nities: a review of recent advances and emerging challenges. Appl.
Energy. 282, 116131 (2021). https://doi.org/10.1016/j.apenergy.2020.
116131
7. Andoni, M., et al.: Blockchain technology in the energy sector: a
systematic review of challenges and opportunities. Renew. Sustain.
Energy Rev. 100, 143–174 (2019). https://doi.org/10.1016/j.rser.2018.
10.014
8. von Perfall, A., et al.: Blockchain ‐ chance für energieverbraucher?
kurzstudie für die verbraucherzentrale nrw. düsseldorf (2016)
9. Burger, C., et al.: Blockchain in der energiewende (2016). https://www.
esmt.org/system/files_force/dena_esmt_studie_blockchain_deutsch_0.
pdf?download=1&download=1
10. Bogensperger, A., et al.: Die blockchain‐technologie ‐ chance zur trans-
formation der energiewirtschaft? berichtsteil anwendungsfälle (2018).
https://www.ffe.de/attachments/article/846/Blockchain_Teilbericht_
UseCases.pdf
11. Wang, J., et al.: A novel electricity transaction mode of microgrids based
on blockchain and continuous double auction. Energies. 10(12), 1971
(2017). https://doi.org/10.3390/en10121971
12. Kang, J., et al.: Enabling localized peer‐to‐peer electricity trading among
plug‐in hybrid electric vehicles using consortium blockchains. IEEE
Trans. Ind. Inf. 13(6), 3154–3164 (2017). https://doi.org/10.1109/TII.
2017.2709784
13. Peck, M.E., Wagman, D.: Energy trading for fun and profit buy your
neighbor’s rooftop solar power or sell your own‐it’ll all be on a block-
chain. IEEE Spectrum. 54(10), 56–61 (2017). https://doi.org/10.1109/
MSPEC.2017.8048842
14. Sabounchi, M., Wei, J.: Towards resilient networked microgrids:
blockchain‐enabled peer‐to‐peer electricity trading mechanism. In: IEEE
conference on energy internet and energy system integration, pp. 1–5.
EI2 (2017). https://doi.org/10.1109/EI2.2017.8245449
15. Ante, L., Steinmetz, F., Fiedler, I.: Blockchain and energy: a bibliometric
analysis and review. Renew. Sustain. Energy Rev. 137, 110597 (2021).
https://doi.org/10.1016/j.rser.2020.110597
16. Wang, Q., Li, R., Zhan, L.: Blockchain technology in the energy sector:
from basic research to real world applications. Comput. Sci. Rev. 39,
100362 (2021). https://doi.org/10.1016/j.cosrev.2021.100362
17. Hasankhani, A., et al.: Blockchain technology in the future smart
grids: a comprehensive review and frameworks. Int. J. Electr. Power
Energy Syst. 129, 106811 (2021). https://doi.org/10.1016/j.ijepes.
2021.106811
18. Brousmichc, K.‐L., et al.: Blockchain energy market place evaluation: an
agent‐based approach. In: IEEE 9th annual information technology,
electronics and mobile communication conference (IEMCON),
pp. 321–327. IEEE (2018). https://doi.org/10.1109/IEMCON.2018.
8614924. 01.11.2018 ‐ 03.11.2018
19. Okwuibe, G.C., et al.: A blockchain‐based double‐sided auction peer‐to‐
peer electricity market framework. In: IEEE electric power and energy
conference (EPEC), pp. 1–8. IEEE (2020). https://doi.org/10.1109/
EPEC48502.2020.9320030. 09.11.2020 ‐ 10.11.2020
20. Zhang, C., Yang, T., Wang, Y.: Peer‐to‐peer energy trading in a microgrid
based on iterative double auction and blockchain. Sustainable Energy,
242 - ZADE ET AL.
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
https://github.com/tum%2Dewk/lemlab
https://github.com/tum%2Dewk/lemlab
https://orcid.org/0000-0002-4949-9960
https://orcid.org/0000-0002-4949-9960
https://www.irena.org/publications/2021/March/Renewable-Capacity-Statistics-2021
https://www.irena.org/publications/2021/March/Renewable-Capacity-Statistics-2021
https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2019.158.01.0125.01.ENG&#x00026;toc=OJ:L:2019:158:TOC
https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2019.158.01.0125.01.ENG&#x00026;toc=OJ:L:2019:158:TOC
https://doi.org/10.1049/iet-gtd.2018.5309
https://esb-post2025-market-design.aemc.gov.au/32572/1609802925-p2025-january-directions-paper.pdf
https://esb-post2025-market-design.aemc.gov.au/32572/1609802925-p2025-january-directions-paper.pdf
https://esb-post2025-market-design.aemc.gov.au/32572/1609802925-p2025-january-directions-paper.pdf
https://doi.org/10.5445/IR/1000095229
https://doi.org/10.1016/j.apenergy.2020.116131
https://doi.org/10.1016/j.apenergy.2020.116131
https://doi.org/10.1016/j.rser.2018.10.014
https://doi.org/10.1016/j.rser.2018.10.014
https://www.esmt.org/system/files_force/dena_esmt_studie_blockchain_deutsch_0.pdf?download=1&#x00026;download=1
https://www.esmt.org/system/files_force/dena_esmt_studie_blockchain_deutsch_0.pdf?download=1&#x00026;download=1
https://www.esmt.org/system/files_force/dena_esmt_studie_blockchain_deutsch_0.pdf?download=1&#x00026;download=1
https://www.ffe.de/attachments/article/846/Blockchain_Teilbericht_UseCases.pdf
https://www.ffe.de/attachments/article/846/Blockchain_Teilbericht_UseCases.pdf
https://doi.org/10.3390/en10121971
https://doi.org/10.1109/TII.2017.2709784
https://doi.org/10.1109/TII.2017.2709784
https://doi.org/10.1109/MSPEC.2017.8048842
https://doi.org/10.1109/MSPEC.2017.8048842
https://doi.org/10.1109/EI2.2017.8245449
https://doi.org/10.1016/j.rser.2020.110597
https://doi.org/10.1016/j.cosrev.2021.100362
https://doi.org/10.1016/j.ijepes.2021.106811
https://doi.org/10.1016/j.ijepes.2021.106811
https://doi.org/10.1109/IEMCON.2018.8614924
https://doi.org/10.1109/IEMCON.2018.8614924
https://doi.org/10.1109/EPEC48502.2020.9320030
https://doi.org/10.1109/EPEC48502.2020.9320030
https://orcid.org/0000-0002-4949-9960
Grids and Networks. 27, 100524 (2021). https://doi.org/10.1016/j.
segan.2021.100524
21. Doan, H.T., Cho, J., Kim, D.: Peer‐to‐peer energy trading in smart grid
through blockchain: a double auction‐based game theoretic approach.
IEEE ACCESS. 9, 49206–49218 (2021). https://doi.org/10.1109/
ACCESS.2021.3068730
22. Chen, S., et al.: A trusted energy trading framework by marrying
blockchain and optimization. Adv. Appl. Energy. 2, 100029 (2021).
https://doi.org/10.1016/j.adapen.2021.100029
23. Heck, K., Mengelkamp, E., Weinhardt, C.: Blockchain‐based local energy
markets: decentralized trading on single‐board computers. Energy Sys-
tems. 12(3), 603–618 (2021). https://doi.org/10.1007/s12667-020-
00399-4
24. Machacek, T., Biswal, M., Misra, S.: Proof of x: experimental insights on
blockchain consensus algorithms in energy markets. In: IEEE power &
energy society innovative smart grid technologies conference (ISGT), pp.
1–5. IEEE (2021). https://doi.org/10.1109/ISGT49243.2021.9372194.
16.02.2021–18.02.2021
25. Blom, F., Farahmand, H.: On the scalability of blockchain‐supported
local energy markets. In: International conference on smart energy sys-
tems and technologies (SEST), pp. 1–6. IEEE (2018). https://doi.org/
10.1109/SEST.2018.8495882. 10.09.2018–12.09.2018
26. Liu, S., et al.: A high‐performance local energy trading cyber‐physical
system based on blockchain technology. IOP Conf. Ser. Earth Envi-
ron. Sci. 227, 032009 (2019). https://doi.org/10.1088/1755-1315/227/
3/032009
27. Foti, M., Vavalis, M.: Blockchain based uniform price double auctions for
energy markets. Appl. Energy. 254, 113604 (2019). https://doi.org/10.
1016/j.apenergy.2019.113604
28. Esmat, A., et al.: A novel decentralized platform for peer‐to‐peer energy
trading market with blockchain technology. Appl. Energy. 282, 116123
(2021). https://doi.org/10.1016/j.apenergy.2020.116123
29. Troncia, M., et al.: Distributed ledger technologies for peer‐to‐peer local
markets in distribution networks. Energies. 12(17) (2019). https://doi.
org/10.3390/en12173249
30. Meeuw, A., Schopfer, S., Wortmann, F.: Experimental bandwidth
benchmarking for p2p markets in blockchain managed microgrids. En-
ergy Proc. 159, 370–375 (2019). https://doi.org/10.1016/j.egypro.2018.
12.074
31. Christidis, K., et al.: A framework for designing and evaluating realistic
blockchain‐based local energy markets. Appl. Energy. 281, 115963
(2021). https://doi.org/10.1016/j.apenergy.2020.115963
32. Han, D., et al.: Smart contract architecture for decentralized energy
trading and management based on blockchains. Energy. 199, 117417
(2020). https://doi.org/10.1016/j.energy.2020.117417
33. Son, D., Al Zahr, S., Memmi, G.: Performance analysis of an energy
trading platform using the ethereum blockchain. In: 2021 IEEE inter-
national conference on blockchain and cryptocurrency (ICBC), pp. 1–3.
IEEE (2021). https://doi.org/10.1109/ICBC51069.2021.9461115. 03.
05.2021 ‐ 06.05.2021
34. Vieira, G., Zhang, J.: Peer‐to‐peer energy trading in a microgrid leveraged
by smart contracts. Renew. Sustain. Energy Rev. 143, 110900 (2021).
https://doi.org/10.1016/j.rser.2021.110900
35. Tsaousoglou, G., et al.: Truthful, practical and privacy‐aware demand
response in the smart grid via a distributed and optimal mechanism.
IEEE Trans. Smart Grid. 11(4), 3119–3130 (2020). https://doi.org/10.
1109/TSG.2020.2965221
36. Oprea, S.V., Bara, A., Andreescu, A.I.: Two novel blockchain‐based
market settlement mechanisms embedded into smart contracts for
securely trading renewable energy. IEEE ACCESS. 8, 212548–212556
(2020). https://doi.org/10.1109/ACCESS.2020.3040764
37. Muzumdar, A., et al.: A trustworthy and incentivized smart grid energy
trading framework using distributed ledger and smart contracts. J. Netw.
Comput. Appl. 183‐184, 103074 (2021). https://doi.org/10.1016/j.jnca.
2021.103074
38. Tushar, W., et al.: Peer‐to‐peer trading in electricity networks: an over-
view. IEEE Trans. Smart Grid. 11(4), 3185–3200 (2020). https://doi.
org/10.1109/TSG.2020.2969657
39. Iannino, A., Musa, J.D.: Software reliability Advances in Computers
Volume 30, pp. 85–170. Elsevier (1990). https://doi.org/10.1016/S0065-
2458(08)60299-5
40. Steed, A., Oliveira, M.F.: Scalability. In: Networked graphics,
pp. 393–458. Elsevier (2010). https://doi.org/10.1016/B978-0-12-
374423-4.00012-4
41. Fudenberg, D., Tirole, J.: Game theory, 6th ed. MIT Press, Cambridge
(1998)
42. Shoham, Y., Leyton‐Brown, K.: Multiagent systems: algorithmic, game‐
theoretic, and logical foundations. Cambridge University Press, Cam-
bridge (2009). https://doi.org/10.1017/CBO9780511811654
43. Wah, E., Hurd, D., Wellman, M.: Strategic market choice: frequent call
markets vs. continuous double auctions for fast and slow traders. In:
Proceedings of the the third conference on auctions, market mechanisms
and their applications. ACM (2015). https://doi.org/10.4108/eai.8-8-
2015.2260356
44. Harrington, L., Waide, P.: Labels and standards for energy. In: Ency-
clopedia of energy, pp. 599–611. Elsevier (2004). https://doi.org/10.
1016/B0-12-176480-X/00471-X
45. Song, Z., Zhang, X., Liang, M.: Reliable reputation review and secure
energy transaction of microgrid community based on hybrid blockchain.
Wireless Commun. Mobile Comput. 2021, 1–17 (2021). https://doi.org/
10.1155/2021/9916735
46. Zade, M., Lumpp, S.D., Sperling, U.: Reghee ‐ regionaler handel und
stromkennzeichnung von erneuerbaren energien über eine blockchain‐
plattform (2021). https://reghee.de/
47. Lumpp, S.D., et al.: An open‐source tool for the agent‐based develop-
ment and testing of local energy market applications (2021). https://
github.com/tum-ewk/lemlab
48. Zade, M., et al.: Satisfying user preferences in community‐based local
energy markets — auction‐based clearing approaches. Appl. Energy. 306,
118004 (2022). https://doi.org/10.1016/j.apenergy.2021.118004
49. Edgar, T.W., Manz, D.O.: Science and cyber security. In: Research
methods for cyber security, pp. 33–62. Elsevier (2017). https://doi.org/
10.1016/B978-0-12-805349-2.00002-9
50. Wood, G.: Ethereum: a secure decentralized generlised transaction ledger
berlin version (2021). https://ethereum.github.io/yellowpaper/paper.pdf
51. N. Alzahrani, N. Bulusu, Towards true decentralization: a blockchain
consensus protocol based on game theory and randomness, In: L.
Bushnell, R. Poovendran, T. Başar (Eds.), Decision and Game Theory for
Security, Volume. 11199 of Lecture Notes in Computer Science, Springer
International Publishing, Cham, 2018, pp. 465–485. https://doi.org/10.
1007/978-3-030-01554-1_27
52. Rauchs, M., Dek, A., Blandin, A.: Cambridge bitcoin electricity con-
sumption index (2021). https://ccaf.io/cbeci/index
53. Zade, M., et al.: Is bitcoin the only problem? a scenario model for the
power demand of blockchains. Front. Energy Res. 7 (2019). https://doi.
org/10.3389/fenrg.2019.00021
54. Oyinloye, D.P., et al.: Blockchain consensus: an overview of alternative
protocols. Symmetry. 13(8), 1363 (2021). https://doi.org/10.3390/
sym13081363
How to cite this article: Zade, M., et al.:
Evaluating the added value of blockchains to local
energy markets—Comparing the performance of
blockchain‐based and centralised implementations. IET
Smart Grid. 5(4), 234–245 (2022). https://doi.org/10.
1049/stg2.12058
ZADE ET AL. - 243
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
https://doi.org/10.1016/j.segan.2021.100524
https://doi.org/10.1016/j.segan.2021.100524
https://doi.org/10.1109/ACCESS.2021.3068730
https://doi.org/10.1109/ACCESS.2021.3068730
https://doi.org/10.1016/j.adapen.2021.100029
https://doi.org/10.1007/s12667-020-00399-4
https://doi.org/10.1007/s12667-020-00399-4
https://doi.org/10.1109/ISGT49243.2021.9372194
https://doi.org/10.1109/SEST.2018.8495882
https://doi.org/10.1109/SEST.2018.8495882
https://doi.org/10.1088/1755-1315/227/3/032009
https://doi.org/10.1088/1755-1315/227/3/032009
https://doi.org/10.1016/j.apenergy.2019.113604
https://doi.org/10.1016/j.apenergy.2019.113604
https://doi.org/10.1016/j.apenergy.2020.116123
https://doi.org/10.3390/en12173249
https://doi.org/10.3390/en12173249
https://doi.org/10.1016/j.egypro.2018.12.074
https://doi.org/10.1016/j.egypro.2018.12.074
https://doi.org/10.1016/j.apenergy.2020.115963
https://doi.org/10.1016/j.energy.2020.117417
https://doi.org/10.1109/ICBC51069.2021.9461115
https://doi.org/10.1016/j.rser.2021.110900
https://doi.org/10.1109/TSG.2020.2965221
https://doi.org/10.1109/TSG.2020.2965221
https://doi.org/10.1109/ACCESS.2020.3040764
https://doi.org/10.1016/j.jnca.2021.103074
https://doi.org/10.1016/j.jnca.2021.103074
https://doi.org/10.1109/TSG.2020.2969657
https://doi.org/10.1109/TSG.2020.2969657
https://doi.org/10.1016/S0065-2458(08)60299-5
https://doi.org/10.1016/S0065-2458(08)60299-5
https://doi.org/10.1016/B978-0-12-374423-4.00012-4
https://doi.org/10.1016/B978-0-12-374423-4.00012-4
https://doi.org/10.1017/CBO9780511811654
https://doi.org/10.4108/eai.8-8-2015.2260356
https://doi.org/10.4108/eai.8-8-2015.2260356
https://doi.org/10.1016/B0-12-176480-X/00471-X
https://doi.org/10.1016/B0-12-176480-X/00471-X
https://doi.org/10.1155/2021/9916735
https://doi.org/10.1155/2021/9916735
https://reghee.de/
https://github.com/tum-ewk/lemlab
https://github.com/tum-ewk/lemlab
https://doi.org/10.1016/j.apenergy.2021.118004
https://doi.org/10.1016/B978-0-12-805349-2.00002-9
https://doi.org/10.1016/B978-0-12-805349-2.00002-9
https://ethereum.github.io/yellowpaper/paper.pdf
https://doi.org/10.1007/978-3-030-01554-1_27
https://doi.org/10.1007/978-3-030-01554-1_27
https://ccaf.io/cbeci/index
https://doi.org/10.3389/fenrg.2019.00021
https://doi.org/10.3389/fenrg.2019.00021
https://doi.org/10.3390/sym13081363
https://doi.org/10.3390/sym13081363
https://doi.org/10.1049/stg2.12058
https://doi.org/10.1049/stg2.12058
APPENDICES
Acronyms
BC Blockchain
CDA Continuous Double Auction
DB Database
GDPR General Data Protection Regulation
HEMS Home Energy Management System
LAN Local Area Network
LEM Local Energy Market
P2P Peer‐to‐Peer
PDA Periodic Double Auction
PoA Proof‐of‐Authority
PoW Proof‐of‐Work
VPP Virtual Power Plant
Blockchain technology
Blockchains are virtual state machines that store data on
distributed nodes. The data inserted into a blockchain be-
comes part of the blockchain's state and is stored as a hashed
value in discrete blocks. Hash values refer to outputs of one‐
way mathematical functions that compute a unique value of a
pre‐defined length for any kind of input data but make it very
difficult to reproduce the input data based on a hash value
[49]. Blocks contain the current state and all requested state
changes in the form of transactions [50]. When we talk about
a chain of blocks, we are referring to each new block that
contains a hash value of the previously added block.
Advanced blockchains such as Ethereum allow us to deploy
code on a blockchain and process data in a programmable
manner. These scripts are informally known as smart con-
tracts [50].
In order to decide what state changes are valid, so‐called
consensus mechanisms were developed for blockchains.
Consensus mechanisms refer to network protocols that
define how a network of equal and independent nodes can
agree on the validity of current and historical states of the
shared data [51]. The most prominent consensus mechanism
is Proof‐of‐Work (PoW). PoW allows all nodes in a network
to add new blocks to the chain as long as they provide a
proof of their ‘work’ in the form of a hash value that con-
tains all inserted transactions and fulfils a certain condition.
This condition could be a certain number of leading zeros.
Nodes are motivated to prove their work to the network
because they are rewarded with coins in the blockchain's own
currency if they are the first ones that compute a hash value
that fulfils the aforementioned conditions. The outcome of a
hashing function cannot be foreseen with today's computers
and therefore must be computed by trial and error. This
process is energy intensive and therefore widely criticised
[52, 53]. To avoid the high energy demand in blockchains, the
PoA consensus mechanism was introduced [54]. As the name
indicates, selected authorities are allowed to validate blocks
and append them to the blockchain. This reduces the energy
demand of the blockchain significantly but at the same time
does not provide a similarly decentralised structure as the
PoW consensus mechanism. Over the past years, a variety of
other consensus mechanisms were proposed to tackle these
challenges [54].
Polynomial fitting functions and residuals
Table A1 lists all polynomial coefficients used to fit the data in
Figure 2 and residuals.
TABLE A1 Coefficients and residuals of
polynomial fitting curvesComputation time Ratio of mean
Central LEM Blockchain‐based LEM Computation times
a −5.5*10−6 1.7*10−3 8.7*10−1
b 6.5*10−3 1.5 86.4
c 3.7*10−1 8.2
Residuals 4.8*10−2 313 2156.3
F I GURE A 1 Computation effort in Ethereum's gas as box plots.
Outliers are shown as circles
244 - ZADE ET AL.
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
Gas analysis
Figure A1 shows the computational effort for the different
main functions of the blockchain‐based LEM in Ethereum's
own computation currency ‘gas’. The clearing and settlement of
the LEM consume most of the gas. Settling the market
consumes slightly more gas than clearing the market up until
500 inserted bids and seems to reach a tipping point at 550 bids.
Noteworthy is that the settlement is split up into four separate
transactions while the clearing of the market is initiated with a
single transaction. Hence, we assume the additional gas con-
sumption from 50 to 500 bids is due to transaction overheads.
ZADE ET AL. - 245
 25152947, 2022, 4, D
ow
nloaded from
 https://ietresearch.onlinelibrary.w
iley.com
/doi/10.1049/stg2.12058 by C
ity U
niversity O
f H
ong K
ong, W
iley O
nline L
ibrary on [15/04/2023]. See the T
erm
s and C
onditions (https://onlinelibrary.w
iley.com
/term
s-and-conditions) on W
iley O
nline L
ibrary for rules of use; O
A
 articles are governed by the applicable C
reative C
om
m
ons L
icense
	Evaluating the added value of blockchains to local energy markets—Comparing the performance of blockchain‐based and central ...
	1 | INTRODUCTION
	2 | INFRASTRUCTURE REQUIREMENTS FOR LOCAL ENERGY MARKETS
	2.1 | Reliability
	2.2 | Scalability
	2.3 | Data security
	2.4 | Tamper resistance
	2.5 | Low operating costs
	3 | EVALUATION TOOLBOX
	3.1 | Local energy market functions
	3.1.1 | User and meter management
	3.1.2 | Market clearing
	3.1.3 | Settlement
	3.1.4 | Labelling
	3.2 | Local energy market connectors
	3.3 | Ethereum blockchain
	3.4 | Central database
	3.5 | Prosumer
	4 | COMPARATIVE PERFORMANCE ANALYSIS
	4.1 | Configuration
	4.2 | Equivalence analysis
	4.3 | Time complexity analysis
	5 | DISCUSSION
	6 | CONCLUSION
	ACKNOWLEDGEMENTS
	CONFLICT OF INTEREST
	DATA AVAILABILITY STATEMENT
	Acronyms
	Blockchain technology
	Polynomial fitting functions and residuals
	Gas analysis