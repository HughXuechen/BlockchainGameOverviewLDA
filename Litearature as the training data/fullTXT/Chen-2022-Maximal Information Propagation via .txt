Maximal Information Propagation via Lotteries
Maximal Information Propagation
via Lotteries
Jing Chen1,2 and Bo Li3(B)
1 Algorand Inc., Boston, MA 02116, USA
jing@algorand.com
2 Department of Computer Science, Stony Brook University,
Stony Brook, NY 11794, USA
3 Department of Computing, Hong Kong Polytechnic University,
Hong Kong, China
comp-bo.li@polyu.edu.hk
Abstract. Propagating information to more people through their
friends is becoming an increasingly important technology used in
domains such as blockchain, advertising, and social media. To incentivize
people to broadcast the information, the designer may use a monetary
rewarding scheme, which specifies who gets how much, to compensate
for the propagation. Several properties are desirable for the rewarding
scheme, such as budget feasible, individually rational, incentive compat-
ible and Sybil-proof. In this work, we design a free market with lotteries,
where every participant can decide by herself how much of the reward she
wants to withhold before propagating to others. We show that in the free
market, the participants have a strong incentive to maximally propagate
the information and all the above properties are satisfied automatically.
Keywords: Information propagation · Nash equilibrium · Free market
design
1 Introduction
Propagating information to more people through their friends is becoming an
increasingly important technique used in many fields including advertising, social
media [13] and blockchain [3,15]. To incentivize people to broadcast the informa-
tion, the information holder, i.e., the mechanism designer, may use a monetary
rewarding scheme r = (r1, · · · , rn) to compensate people, where ri is the reward
assigned to player i. The rewarding scheme is expected to satisfy several prop-
erties, such as being incentive compatible, (strongly) budget feasible, individual
rational, and Sybil-proof. Informally, incentive compatibility requires that each
The authors thank Costantinos Daskalakis, Yossi Gilad, Victor Luchangco, and Silvio
Micali for helpful discussions in the early stage of this work, and several anonymous
reviewers for helpful comments. Part of this work was done when Bo Li was an intern
at Algorand. Bo Li is partially supported by the Hong Kong Polytechnic University
(No. P0034420).
c© Springer Nature Switzerland AG 2022
M. Feldman et al. (Eds.): WINE 2021, LNCS 13112, pp. 486–503, 2022.
https://doi.org/10.1007/978-3-030-94676-0_27
http://crossmark.crossref.org/dialog/?doi=10.1007/978-3-030-94676-0_27&domain=pdf
https://doi.org/10.1007/978-3-030-94676-0_27
Maximal Information Propagation via Lotteries 487
player does not decrease her utility by propagating the information, budget
feasibility requires
∑
i ri ≤ B when the mechanism designer has a budget of
B, strong budget feasibility requires
∑
i ri = B, individual rationality requires
ri ≥ 0 for all i, and Sybil-proofness requires the players do not benefit by mak-
ing fake copies in the information propagation process. Accordingly, designing
a rewarding scheme to satisfy all or some of the above properties establishes
a large research agenda. For example, maximal information propagation with
budgets is studied in [27], where a rewarding scheme that is incentive compati-
ble, strongly budget feasible and individual rational is proposed. But the scheme
is not Sybil-proof. A Sybil-proof rewarding scheme is designed in [6], but it is
not strongly budget feasible, where a small portion of the claimed reward is
distributed among the players. In this work, instead of designing a centralized
rewarding scheme, we propose a free market with lotteries where everyone can
decide how much of the reward she wants to withhold before propagating to oth-
ers. We show that in such a market, the players have strong incentives to fully
propagate the information and all above properties are satisfied automatically.
To illustrate our design, let us first consider a toy game. Initially, a seller
sends her promotion information to a small number of players she is able to
reach, denoted by N and n = |N | who are called aware players. The information
is associated with a lottery such that one winner among aware players will be
uniformly and randomly selected to get a reward normalized to $1. When nobody
propagates the information, everyone’s expected reward is 1/n. For player i ∈ N ,
she has a set of friends Fi such that fi = |Fi| ≥ 1 and N ∩ Fi = ∅. If i signs
an agreement with Fi such that if anyone in Fi is selected to be the winner, the
reward is given i, then by propagating the information to Fi, player i’s reward,
which equals to the probability that the winner is selected from Fi ∪ {i}, is
1 + fi
n + fi
>
1
n
. (1)
That is i can increase her reward by propagating the information to her friends,
and thus no propagation for N is not a Nash equilibrium. Actually, since Inequal-
ity 1 holds for any n ≥ 2, everyone’s dominate strategy is to propagate the
formation to their friends. But to what extent will they propagate?
Assuming all players in N except i inform the information to their friends and
withhold the complete reward, let us see what i will do. If i does not withhold
the complete reward but shares a small amount, say 0 < c < 1, with Fi, i
can again improve her utility. For j ∈ Fi, let Fj be j’s friends who are not in
the game. Supposing all j ∈ Fj adopts the same strategy with N \ {i}, i.e.,
fully propagating the information to their friends and withholding the complete
reward c, we compare two cases for player i: (1) i does not leave any reward to
j, and (2) i leaves c to j. To ease the notation, suppose there are n′ players who
are in the game except j’s friends Fj for every j ∈ Fi. It is not hard to see that
for case (1), player i’s reward is (1 + fi)/n′ and for case (2), her reward is
1 + (1 − c) ·
∑
j∈Fi
fj
∑
j∈Fi
fj + n′ >
1 + fi
n′ ,
488 J. Chen and B. Li
as long as for all j ∈ Fi,
fj >
n + 1
n(1 − c) − 1
→ 1 if c → 0.
Thus we conclude that withholding the complete reward from propagation is not
a Nash equilibrium, and every player wants to leave partial reward to her friends
for incentivizing them to further propagate the information.
We note that the initial n aware players are in the Prisoner’s dilemma. If
they do not propagate the information, each of them has expected utility of 1/n.
However, it is dominant for each of them to refer their friends by sacrificing
partial reward, resulting the expected utility strictly smaller than 1/n. This
dilemma actually motivates the information propagation in the free market.
A more practical example for the above scenario is the mining game of Bit-
coin [24]. In Bitcoin, when a user makes a transaction (the information sender),
she wants the transaction to be broadcasted (with other necessary information
such as account information, transfer amount, crypto signature and etc.) in the
network so that the miners can authorize the validity of the transaction and
assemble newly verified transactions into blocks. The miners compete to pro-
pose their blocks to the public chain by solving a computationally hard puzzle,
and the winning probability is proportional to the share of each miner’s compu-
tation power in the system. Accordingly, the transaction maker can reward the
winning miner who authorizes her transaction a fixed amount of Bitcoins. At
first glance, it seems that the miners may not want to broadcast the transaction
since only the miners who know the transaction can be rewarded. A centralized
rewarding scheme is proposed in [3] which not only rewards the winner but also
other miners who helped broadcast the transaction. By carefully designing who
gets much, their scheme is Sybil-proof in tree networks. However, as we will show
in this work, the design of free market with lotteries automatically incentivizes
the miners to propagate the transaction and satisfies all other desired properties
as well. Thus the take-home message of this work is that
the mechanism designer does not need to specify each player’s reward, the
market itself already provides incentives for maximal propagation.
1.1 Our Contribution
We model the problem, and the Bitcoin example, as an information propagation
game in a free market, where a sender has a single piece of information to
be broadcasted. For simplicity, we first assume the players are connected by a
complete d-ary tree with d ≥ 3, and all players’ winning probabilities are the
same. If there is an edge between two players, they are friends and one can be
informed the information by the other. A strategy profile is called full propagation
if every player withholds a minimum charge and leaves the remaining reward to
all her friends, so that a maximum number of people could be aware of the
information. We show that full propagation forms a Nash equilibrium which
satisfies extra properties and thus is more stable than an arbitrary one.
Maximal Information Propagation via Lotteries 489
First, full propagation is robust to collective deviations of friends, i.e., con-
nected coalition-proof [4]. In the seminal work by Myerson [23], the communi-
cation game is proposed where the network on players represents the possible
communication between them. Originally, it is associated with cooperative games
and only coalitions formed by players who can communicate with each other (i.e.,
connected subgraphs in the network) are concerned. We adapt this principle to
our problem and show that any deviation of a connected coalition of players
from full propagation makes at least one of them worse off.
Second, full propagation survives in any order of iterative elimination of dom-
inated strategies, and uniquely survives in a particular one. This result coincides
with and generalizes the result of [3], where a centralized rewarding scheme is
designed. In a centralized rewarding scheme, a player can only misbehave by
withholding the information and claiming Sybil copies, while in a free market a
player can arbitrarily claim how much of the reward she wants to deduct before
propagating to others. We formally discuss the difference between our work and
[3] at the end of Sect. 3. Recall that strategy s (weakly) dominating s′, denoted
by s 	 s′, means choosing s always gives at least as good an outcome as choos-
ing s′, no matter what the other players do, and there is at least one profile of
opponents’ actions for which s gives a strictly better outcome than s′. We prove
that full propagation is the unique strategy profile that survives in an interval-
based monotone elimination of dominated strategies, coinciding with the players’
reasoning process as illustrated in the introduction.
Our main results can be summarized as follows.
Main Result 1. (Theorems 1 and 2) In the tree-structured free market with
lotteries, full propagation achieves maximal propagation and satisfies the follow-
ing:
1. Full propagation is a Nash equilibrium;
2. Any deviation of a coalition of friends hurts at least one of them;
3. Full propagation survives in any order of iterative elimination of dominated
strategies;
4. There is an order of iterative elimination of dominated strategies such that
full propagation is the unique surviving strategy.
We then extend the above results to non-tree networks. For arbitrary net-
works, we introduce stronger relationships than friends, good friends and best
friends, using shortest paths from the information sender to players. Although
properties 3 and 4 in Main Result 1 do not hold, we show that if every player has
at least three good friends, full propagation is a Nash equilibrium that is also
connected coalition-proof on the induced good-friendship subgraph. It is noted
that d-ary tree with d ≥ 3 is a special case satisfying this condition.
Main Result 2. (Theorem 3) If every player has at least 3 good friends, then
full propagation is a Nash equilibrium that is connected coalition-proof on the
good-friendship subgraph.
In conclusion, if the network is well structured, the free market with lot-
teries is incentive compatible where players are willing to fully propagate the
490 J. Chen and B. Li
information. It is not hard to check that our scheme also satisfies other proper-
ties mentioned in the introduction. It is strongly budget feasible and individual
rational, as the full reward will be given to the players and none of them needs
to pay. Our scheme is also Sybil-proof, as in our game, the players are required
to provide certificates on how many people they have referred to. For example,
in Bitcoin each miner needs to contribute their computing power on authoriz-
ing the transaction. Therefore, as everyone in our game can arbitrarily decide
how much reward she wants to withhold by informing her friends, making Sybil
identities is the same as withholding a higher fraction of the reward.
Finally, it is an interesting future direction to generalize our results to random
networks. We believe full propagation brings players high utility in a broader
class of networks. To shed more light in this direction, we conduct experiments
in Sect. 5 for our scheme under general random networks. In all experiments,
full propagation brings a player the maximum utility. Moreover, the utility gap
between full propagation and other strategies is actually large.
1.2 Related Works
Our work is partially motivated by the extensive study of incentivizing relays in
a blockchain network to propagate transactions. While this has been studied in
the literature, most of them focus on centralized algorithms where each relay’s
reward is fixed and decided by the algorithm. With these algorithms, to gain
higher utility, a strategic relay may claim fake copies, i.e., Sybil attack [12].
Accordingly, in works such as [3,16], Sybil-proof algorithms are studied. Since
in our free market each relay is able to arbitrarily decide how much reward she
is willing to withhold, it is superfluous for them to make fake copies, and thus,
our results directly imply Sybil-proofness. The free market ideas have also been
discussed independently in [1] and [7] without a systematic analysis.
Our work also aligns with the fundamental study of what the optimal way is
to reward miners for their work on authorizing transactions. Currently, the most
popular rewarding scheme, as adopted by Bitcoin, is to reward miners propor-
tionally to their share of the total contributed computational power. As shown
in [10], the proportional allocation rule is the unique rule that is simultaneously
non-negative, budget-balanced, symmetric, Sybil-proof, and collusion-proof. In
reality, however, to earn steady rewards, miners pool themselves together, and
the pools are vulnerable to security attacks, such as selfish mining attack
[11,17,19,21], block withholding attack [25,26], and denial of service attack [18].
Cooperative games are used in [22] to show that under high transaction loads,
it is hard for managers to distribute rewards in a stable way.
Outside the scope of blockchain, information propagation has also been stud-
ied in multi-level marketing [13,14] and query incentive networks [2,5,6,9,20].
There are major differences between the transaction propagation in a blockchain
network and the query retrieval in peer-to-peer network. The players in a query
incentive network do not compete with the ones who forwarded the message
to them, and cannot generate an answer that they do not have. Whereas in a
blockchain network, every aware player is a potential authorizer with probability
proportional to their stakes or computational powers.
Maximal Information Propagation via Lotteries 491
2 Game Theoretic Model and Preliminaries
For technical simplicity, we first assume all players are connected by a tree
G = (V,E). Let s be the root of G who is the sender of the information. Note that
s is not a player in our game. Suppose s has f children and thus excluding s from
G, there are f subtrees denoted by {T1, · · · , Tf}. When there is no confusion, we
also use each Ti to denote the set of nodes in it. Assume all these subtrees are
complete d-ary and f ≥ d ≥ 3. Call N = V \{s} the set of players and denote by
n = |N |. To make the players distinguishable from the sender, we stop calling s
the root and only call her sender. Instead, we call the roots of these subtrees roots
on depth 0, who are the initial players of the game, as shown in the following
figure. In a similar fashion, the children of these subtree roots are viewed to be
on depth 1 and so on. For each node i ∈ V , let NBi be the set of her children
in G, and thus NBs contains all initial players (Fig. 1).
Fig. 1. An illustration of the tree structure.
We next define the propagation game Γ = (N,S,u) on G. Without loss
of generality, we assume the initial reward set by the sender is 1. Denote by
Si the strategy space of each player i ∈ N . Let S = S1 × · · · × Sn be the
strategy profiles. Any strategy si ∈ Si is a mapping from R
+ to (R+∪{⊥})|NBi|,
where R
+ = [0,+∞). That is, upon receiving the information with remaining
reward xi, player i decides how much reward si(xi)j to leave to her child j
by sending the information to j or not to inform j if si(xi)j = ⊥. Denote by
si(xi) = (si(xi)1, · · · , si(xi)|NBi|). A feasible strategy is that for all j ∈ NBi,
if xi ≥ xmin, 0 ≤ si(xi)j ≤ xi − xmin or si(xi)j = ⊥; otherwise, si(xi)j ≡ ⊥.
Here xmin > 0 is a sufficiently small number prefixed by the system. Denote by
s = s1 × · · · × sn a strategy profile. For any strategy profile s ∈ S and an initial
reward, there is a fixed set of players who can be informed the information,
called aware players and denoted by N∗(s). When s is clear in the context,
we simply write N∗. To avoid cumbersome calculations, all aware players will
get the reward with equal probability of 1
|N∗| , and the winner needs to share the
reward with her ancestors from her to the sender as committed. Thus, a player i’s
(expected) utility consists of two parts: authorizing utility and referring utility,
ui(s;xi) = xi · 1
|N∗| +
∑
j∈NBi,si(xi)j �=⊥
(xi − si(xi)j) · nij
|N∗| ,
492 J. Chen and B. Li
where nij is the number of aware players following j and including j.
Next we formulate the intuition in Inequality 1 by the following lemma, which
shows it is always (strictly) better for a player to propagate the information.
Lemma 1. For any player i, let s−i be −i’s strategy profile such that the remain-
ing reward xi to i is at least xmin. Let si(xi) = (z1, · · · , zj , · · · , z|NBi|) be a
strategy with zj = ⊥ for some j and s′
i(xi) = (z1, · · · , z′
j , · · · , z|NBi|) be a new
strategy by changing j’s action from ⊥ to 0. Then ui(si, s−i) < ui(s′
i, s−i).
We prove Lemma 1 in the full version [8]. By Lemma 1, every aware player
does not get hurt by propagating the information to all her neighbours, and
thus in what follows, we assume without loss of generality si(xi)j ≥ 0 for any
xi ≥ xmin and j ∈ NBi. Moreover, in the following sections, we will see that the
aware players actually want to maximally propagate the information. A feasible
strategy si is called full propagation (FP for short) if si(xi)j = (k−1)xmin for all
j and kxmin ≤ xi < (k + 1)xmin with k ≥ 1. That is in an FP strategy, a player
wants to inform all her neighbours by leaving the maximal reward to them. A
feasible strategy profile s = (si)i∈N is called FP if every si is FP. Denote by
s∗ = (s∗
i )i∈N the FP strategy profile.
3 Main Results
To ease formulas, we define the following notations. For each subtree T , let
G(k) =
k∑
j=1
dj−1 =
dk − 1
d − 1
be the number of nodes from depth 0 to depth k − 1. Note that when d ≥ 3 and
k ≥ 1, G(k) ≥ 2k − 1. Moreover, for any k ≥ 1,
(f − 1)G(k + 1) ≥ dk+1 − 1 > d(dk − 1) ≥ d + 1
d − 1
(dk − 1)
= (d + 1)G(k) ≥ dG(k) + 2k − 1. (2)
Denote by H · xmin = 1 the sender’s initial reward, where H > 1 is an integer.
Then H is the maximal depth that the information can reach. For any player i
in depth j ≥ 0, no matter what i’s previous players do, i is not able to receive
the information with remaining reward more than (H − j) ·xmin since each of i’s
ancestors needs to withhold at least xmin. Moreover, all the users in and below
depth H are not considered as strategic players. Finally, under FP strategies,
the number of aware players is f · G(H + 1).
3.1 Technical Lemmas
We next introduce two technical lemmas which are crucial to prove the main
results. For a subtree T , let π0(T ) be the number of players outside of T who are
aware of the information. If T is clear from the context, we write π0 for short.
Maximal Information Propagation via Lotteries 493
Lemma 2. Consider the sub-game induced on a single subtree T , where r is the
root player and g is one of r’s descendants. Assume r receives the information
with reward xr and k · xmin ≤ xr < (k + 1) · xmin for some k ≥ 1. If d ≥ 3 and
π0 ≥ d · G(k) + 2k − 1, r’s utility is maximized when g plays FP strategy, taking
the actions of the others as given.
Proof. Note that if xr < 2xmin or the information cannot reach g, r’s utility does
not depend on g’s action, thus the statement is trivially true. In the following
we assume xr ≥ 2xmin.
Taking the actions of the players (including r) except g as given, let Δj be
the total number of r’s referred players from r’s child j and Δ =
∑
j∈NBr
Δj .
Let g′ be g’s ancestor who is r’s direct child or g′ = g when g is r’s child. Thus g’s
strategy can only change Δg′ , which is the single variable of r’s utility. Formally,
r’s utility can be written as (assuming π0 includes r to simplify notions)
ur(Δg′) = xr
1
π0 + Δ
+
∑
j∈NBr
(xr − sr(xr)j)
Δj
π0 + Δ
=
xr +
∑
j∈NBr
(xr − sr(xr)j)Δj
π0 + Δ
.
Calculating the derivative of ur(Δg′), we have
u′
r(Δg′) =
(xr − sr(xr)g′)(π0 + Δ) − (xr +
∑
j∈NBr
(xr − sr(xr)j)Δj)
(π0 + Δ)2
=
(xr − sr(xr)g′)π0 − xr −
∑
j �=g′(sr(xr)g′ − sr(xr)j)Δj
(π0 + Δ)2
≥
xminπ0 − xr −
∑
j �=g′(xr − sr(xr)j)Δj
(π0 + Δ)2
,
where the inequality is because sr(xr)j ≤ xr − xmin for any j. Let
fj(yj) = (k + 1 − yj)G(yj�) = (k + 1 − yj)
d�yj	 − 1
d − 1
≤ (k + 1 − yj)
dyj − 1
d − 1
.
Claim 1. For d ≥ 3 and 0 ≤ yj < k, f̄j(yj) = (k + 1 − yj) · dyj −1
d−1 monotone
increases with respect to yj .
To prove the above claim, it suffices to calculate the derivative of f̄j(yj), and we
omit the details. By Claim 1, fj(yj) ≤ f̄j(yj) ≤ G(k) for any 0 ≤ yj < k. Thus,
u′
r(Δg′) ≥
xminπ0 − xr −
∑
j �=g′(xr − sr(xr)j)Δj
(π0 + Δ)2
≥ xminπ0 − xr − G(k)(d − 1)xmin
(π0 + Δ)2
≥ xmin(π0 − k − 1 − G(k)(d − 1))
(π0 + Δ)2
≥ 0.
494 J. Chen and B. Li
The last inequality is because π0 ≥ dG(k) + 2k − 1 and k ≥ 2.
In conclusion, if g receives the information with remaining reward at least
xmin, u′
r(Δg′) > 0, which means r’s utility is maximized when g plays FP strat-
egy, which finishes the proof. ��
Lemma 2 implies that, if the information is known to a sufficiently large
number of players, for an arbitrary player, her utility is maximized when all her
descendants play FP strategies. Next we show that the other direction of Lemma
2 also holds: for an arbitrary player, if the information is aware to a sufficiently
large number of players and all her descendants play FP strategies, her utility
is maximized when she plays FP strategy.
Fixing a tree T , let i be some player in depth j of T . Assume the remaining
reward i has received is kxmin ≤ xi < (k + 1)xmin for some 0 ≤ k ≤ H − j − 1,
and all her descendants play FP strategies. Given any strategy si(xi), define
s′
i(xi) =
(
si(xi)1
xmin
� · xmin, · · · , si(xi)d
xmin
� · xmin
)
.
Note that given her descendants playing FP strategies, s′
i(xi) brings i utility at
least as much as si(xi) does. The set of all possible s′
i(xi) is called reasonable
strategies. Thus given all i’s descendants playing FP strategies, to study i’s best
response, it suffices to consider reasonable strategies. For convenience, we use
(d0, d1, · · · , dk) to represent a reasonable strategy, where dl ∈ [d] means i selects
dl children to propagate to next l depths by leaving (l−1)xmin to these children,
and d0 means i selects d0 children to not propagate. Thus
∑k
l=0 dl = d. Note
that it does not matter which dl children are selected since all i’s children are
symmetric. In the following, we use ui((d0, d1, · · · , dk);xi) to denote i’s utility
when she receives reward xi and her action is (d0, d1, · · · , dk), given all other
players adopting FP strategies.
Lemma 3. Consider the sub-game on a single subtree T , where r is the root
player. Assume r receives the information with reward xr and k · xmin ≤ xr <
(k + 1) · xmin for some k ≥ 1. If d ≥ 3, π0 ≥ d · G(k) + 2k − 1, and all r’s
descendants adopting FP strategies, for any reasonable strategy (d0, d1, · · · , dk),
r’s utility increases by moving a unit from 0 ≤ l < k to l + 1. Formally, if for
some 0 ≤ l < k such that dl > 0, then
ur((d0, · · · , dl, · · · , dk);xr) < ur((d0, · · · , dl − 1, dl+1 + 1, · · · , dk);xr).
Proof. To simplify our notions, we ignore the index r for the root player, and
let x be the propagation reward that the root receives. When kxmin ≤ x <
(k + 1)xmin and k ≥ 1, the root is able to leave a proper reward to the players
in depth 1 so that the information can be reached to at most depth k. When
it is convenient, we write x = (k + ε)xmin and 0 ≤ ε < 1. Given any strategy
(d0, · · · , dk) such that
∑k
j=0 dj = d and di > 0 for some 0 ≤ i < k, we compare
u((d0, · · · , dl, · · · , dk);x) and u((d0, · · · , dl − 1, dl+1 + 1, · · · , dk);x).
If l = 0, Lemma 3 degenerates to Lemma 1 restricted to trees, which is
trivially true. Thus in the following, we assume l ≥ 1.
Maximal Information Propagation via Lotteries 495
If xmin ≤ x < 2xmin, the remaining reward a player in depth 1 receives is
always smaller than xmin; that is there is no way the information can reach depth
2. Let 1 < d0 ≤ d and d1 = d − d0. It is not hard to check that by notifying one
more player,
u((d0, d1);x) =
(d1 + 1)x
π0 + 1 + d1
<
(d1 + 2)x
π0 + 1 + d1 + 1
= u((d0 − 1, d1 + 1);x),
where the inequality is because π0 ≥ F (1) > 2.
Next we assume k ≥ 2. Denote
Q = x +
k∑
j=1
djG(j)(x − (j − 1)xmin),
and
W = π0 + 1 +
k∑
j=1
djG(j).
Thus the utility for (d0, · · · , dl, · · · , dk) is
U = u((d1, · · · , dk);x) =
Q
W
,
and the utility for (d0, · · · , dl − 1, dl+1 + 1, · · · , dk) is
U ′ = u((d0, · · · , dl − 1, dl+1 + 1, · · · , dk);x)
=
Q + G(i + 1)(x − ixmin) − G(i)(x − (i − 1)xmin))
W + G(i + 1) − G(i)
=
Q + xdi − xmin(iG(i + 1) − (i − 1)G(i))
W + di
.
To show U ′ > U , it equivalent to show
xdi − xmin(iG(i + 1) − (i − 1)G(i))
di
>
Q
W
,
or
W
(
xdi − xmin (iG(i + 1) − (i − 1)G(i))
)
> diQ.
Note that
W
(
xdi − xmin(iG(i + 1) − (i − 1)G(i))
)
= W
(
xdi − xmin(G(i + 1) − (i − 1)di)
)
> W
(
kxmind
i − xmin(
di+1
d − 1
− (i − 1)di)
)
= Wxmind
i
(
k + ε − d
d − 1
− (i − 1)
)
≥ (
1
2
+ ε)Wxmind
i,
496 J. Chen and B. Li
where the first inequality is because x = (k + ε)xmin and
G(i + 1) =
i+1∑
j=0
dj =
di+1 − 1
d − 1
<
di+1
d − 1
;
the second inequality is because k ≥ i + 1 and d ≥ 3. Thus to show Theorem 3,
it suffices to show (1 + 2ε)Wxmin > 2Q.
Claim 2. (1 + 2ε)Wxmin > 2Q.
To prove Claim 2, we note that
(1 + 2ε)W − 2Q
xmin
= (1 + 2ε)
⎛
⎝π0 + 1 +
k∑
j=1
djG(j)
⎞
⎠ − 2
⎛
⎝k + ε +
k∑
j=1
djG(j)(k + ε − j + 1)
⎞
⎠
≥ π0 − 2k + 1 −
k∑
i=1
diG(i)(2k − 2i + 1)
> π0 + 1 − 2k − dG(k) ≥ 0.
The first equation is because x = (k+ε)xmin; the first inequality is because ε ≥ 0;
the second inequality is because the following Claim 3; and the last inequality
is because π0 ≥ dG(k) + 2k − 1.
Claim 3.
∑k
i=1 diG(i)(2k − 2i + 1) < dG(k).
We prove Claim 3 in the full version [8]. ��
Lemma 3 is essentially a generalization of Lemma 1 to tree structures, which
means if the information is already known to a sufficiently large number of
players, it is always beneficial for a player to make the information reach players
in one deeper level. By induction, we have the following corollary.
Corollary 1. Consider the sub-game on a single subtree T , where r is the root
player. Assume r receives the information with reward xr and k · xmin ≤ xr <
(k+1)·xmin for some k ≥ 1. If d ≥ 3, π0 ≥ dG(k)+2k−1, and all r’s descendants
adopt FP strategies, r’s (unique) best strategy is ((k−1) ·xmin, · · · , (k−1) ·xmin).
Note that Lemmas 2, 3 and Corollary 1 do not only hold for the root players,
but also for any player in a subtree T .
3.2 Main Results
Given Lemma 2 and Corollary 1, it is not hard to verify that FP strategy profile
s∗ is a Nash equilibrium, as for each fixed tree, the information is known to the
other f − 1 trees, and thus the number of aware players is at least
(f − 1)G(H + 1) ≥ (d − 1)G(H + 1) ≥ (d + 1)G(H).
Maximal Information Propagation via Lotteries 497
However, s∗ is not the unique Nash equilibrium. Consider the following strategy
profile. Denote by 0 the root player of an arbitrary subtree T and by 1, · · · , d
her children. Consider the strategy profile s′: for all x ≥ xmin, s0(x) = (0, · · · , 0)
and si(x) = (⊥, · · · ,⊥) for all i ∈ {1, · · · , d}; all the other players in T and
all players not in T play arbitrary strategies. That is by notifying the players
in depth 1, the root 0 withholds the complete reward no matter how much the
initial reward is, and the players in depth 1 do not propagate the information at
all no matter how much reward the root player leaves for them. Next, we claim
strategy profile s′ is a Nash equilibrium and for simplicity, we assume d ≥ 4.
First, for each player not in tree T , as there are at least f − 2 other trees play
FP, π0 ≥ (f − 2)G(H + 1) > dG(k) + 2k − 1 for any k ≥ 0. By Corollary 1,
the best response of them is FP, thus all these players will not deviate. Second,
the root player 0 does not deviate, as all her children do not propagate the
information and her best strategy is to withhold all the reward; Finally, no
player in {1, · · · , d} deviates, as the remaining reward for the information is 0.
We can observe that in s′, all {0, 1, · · · , d} played “bad” strategies. By deviating
to FP strategies simultaneously, all of them can improve their utilities, which
means s∗ is more stable equilibrium than s′.
We next define connected coalition-proof Nash equilibria on graphs, which are
stronger than an arbitrary Nash equilibrium. Let Γ = (N,S, u) be any game with
n players, and for any C ⊆ N , denote SC = ×i∈CSi. Let G = (N,E) be a graph
defined on players with (i, j) ∈ E meaning players i and j can communicate with
each other directly. A Nash equilibrium s ∈ S is called connected coalition-proof
on G if there is no coalition C ⊆ N with the induced subgraph of C on G being
connected such that by deviating to s′
C , ui(s′
C , sN\C) ≥ ui(s) for any i ∈ C
and there is one j ∈ C such that uj(s′
C , sN\C) > uj(s). It is easy to see that
any strong Nash equilibrium is connected coalition-proof on a complete graph
and any Nash equilibrium is connected coalition-proof on an empty graph. As
pointed out by Myerson in [23], the requirement of connected coalition-proof is
practical as the players in any deviating coalition should be able to communicate.
Theorem 1. For f ≥ d ≥ 3, full propagation strategy profile s∗ is a connected
coalition-proof Nash equilibrium on G.
Proof. For any coalition C ⊆ N , denote by G(C) the induced subgraph of C in
G. We first observe that G(C) being connected implies G(C) being a subtree in
some T . Then to prove the theorem, it suffices to show for any deviation s′
C from
s∗
C , there is at least one player whose utility is smaller than the case when all of
them play FP. Let r be the root of G(C). Without loss of generality, we reorder
the players in C \ {r} by {1, 2, · · · , c} where c = |C \ {r}|.
Given the other players not in T play FP strategies, the information will be
known to at least π0 players, and when d ≥ 3, by Eq. 2,
π0 ≥ (f − 1)G(H + 1) > dG(H) + 2H − 1.
If r is in depth H −1, all players in C \{r} are dummy, whose actions do not
affect r’s utility. Thus by Lemma 1, any deviation from s∗
C will strictly decreases
r’s utility. In the following, we assume r is above depth H − 1.
498 J. Chen and B. Li
Since π0 ≥ dG(H) + 2H − 1, by Lemma 2,
ur(s′
C , s∗
N\C) ≤ ur(s′
C\{1}, s
∗
{1}∪(N\C)).
That is by changing player 1’s strategy to FP, r’s utility can only increase. We
continue this procedure for player i = 2, · · · , c by changing her strategy from si
to s∗
i , and we have
ur(s′
{r,i,··· ,c}, s
∗
{1,··· ,i−1}∪N\C) ≤ ur(s′
{r,i+1,··· ,c}, s
∗
{1,··· ,i}∪N\C).
Eventually, we obtain
ur(s′
C , s∗
N\C) ≤ ur(s′
r, s
∗
N\{r}).
By Corollary 1, when all i’s descendants play FP strategies,
ur(s′
r, s
∗
N\{r}) < ur(s∗).
Thus, ur(s′
C , s∗
N\C) < ur(s∗), which finishes the proof. ��
By Theorem 1, we have shown that s∗ is more stable than an ordinary Nash
equilibrium. But s∗ is not a strong Nash equilibrium, because all the f root
players can form a deviating coalition such that none of them propagates the
information, which brings each root player utility 1
f . However, as we have seen
in the introduction, no propagation of these f players is not an equilibrium.
Next we show that s∗ survives in any possible order of elimination of dom-
inated strategies, and uniquely survives in an almost monotonic order of elim-
ination of dominated strategies, which surpasses the result in [3]. We call an
elimination order monotonic if for any player i and any two eliminated strate-
gies si and s′
i, minj si(x∗
i )j < minj s′
i(x
∗
i )j implies that si is not eliminated after
s′
i, where x∗
i is the minimum xi such that minj si(xi)j �= minj s′
i(xi)j . Assume
⊥ < 0. We call an elimination order almost monotonic if the condition is relaxed
to si(x∗
i )j∗ < s′
i(x
∗
i )j∗ + xmin implying si is not eliminated after s′
j .
Theorem 2. For f > d ≥ 3, s∗ survives in any possible order of elimination
of dominated strategies. Moreover, s∗ is the unique Nash equilibrium survives in
an almost monotonic order of elimination of dominated strategies.
We prove Theorem 2 in the full version [8]. Note that all our results in this
section hold as long as each player has at least d children, where d ≥ 3. Actually,
similar results also hold for the case of d = 1, 2, but the players may withhold
multiples of xmin.
Remark. Theorem 2 is similar to the result in [3]. They designed a hybrid reward-
ing scheme, which combines two nearly-uniform algorithms, that is Sybil-proof.
Each player in a nearly-uniform algorithm A nearly-uniform algorithm specifies
a maximal length H of rewarding path and rewards winning player in a chain
of length h a reward of 1 + β · (H − h + 1). All the players between the sender
Maximal Information Propagation via Lotteries 499
and the winner are rewarded β. Though β plays a similar role with our xmin,
there are several differences. One of the main differences is that, by the design of
the free market, the players can arbitrarily decide her own charge as long as the
charge is at least of xmin, which is not restricted to be integer multiples of xmin
(i.e., Sybil copies). A second difference is that we do not combine two different
schemes. The advantage of the free market design is that the system does not
need to (carefully) specify who gets how much, and the players themselves are
already motivated to maximally propagate the information, which is also the
main take-home message of the current paper.
4 A Class of Non-tree Networks
In this section, we investigate the extent to which our results for trees can be
extended to general networks. In a non-tree network, a player may get the infor-
mation from multiple neighbours and she will claim the one who leaves the
highest reward to her, where tie is broken arbitrarily but consistently. Again let
G = (V,E) be an arbitrary network and s ∈ V be the initial sender. We first
introduce the notions of good friends and best friends. For two players i and j, i
is j’s best friend if (1) i and j are connected, and (2) every shortest path from
sender s to j passes i. If i is j’s best friend, then j is called i’s good friend. Note
that each player can have at most one best friend but multiple good friends. For
example, in Fig. 2(a), a, b, and d are the best friends of c, e, and g, respectively.
However, d and f do not have any best friend as each of them has two disjoint
shortest paths to s. Let T = (V,E′) be the subgraph of G, where E′ ⊆ E and
(i, j) ∈ E′ if i is j’s good or best friend. Note that T is a spanning forest of G,
and the root of each tree is either s or a player who does not have best friend.
As an example, the solid lines in Fig. 2(a) form a good-friendship graph.
Fig. 2. Illustration of Good-Friendship Graph and Information Propagation Tree.
Next we prove that if every player has at least three good friends, then
full propagation is a Nash equilibrium. Moreover, this equilibrium is robust to
collective deviations of good friends. Note that the case of d-ary tree with d ≥ 3
in Sect. 3 is a special case of this situation where G = T .
500 J. Chen and B. Li
Theorem 3. If every player has at least 3 good friends, then FP strategies s∗
is a Nash equilibrium. Moreover, it is connected coalition-proof on T .
Proof. If every player has at least 3 good friends, then every node in T has at
least 3 children in its corresponding tree. Let T ∗ be the corresponding infor-
mation propagation tree under s∗, where i is connected to j if j claims i as
the ancestor. Essentially, T ∗ connects all the trees in T as shown in Fig. 2(b).
We first prove s∗ is a Nash equilibrium. Suppose, for the sake of contradiction,
some player i wants to deviate from s∗. We partition i’s neighbours into two
sets S1 and S2, where S1 contains the players whose distance to s is at most
i’s distance to s, and S2 contains the players whose distance to s is longer than
i’s distance to s. Note that player i’s action does not affect players in S1 and
their descendants in T ∗. We further partition S2 into S21 and S22, where S21
contains all i’s good friends and S22 = S2 \ S21. If i does not fully propagate
to players in S22, i loses all the referring utility from S22 because they can still
be informed via other paths, which decreases i’s utility. By the condition of the
lemma, |S21| ≥ 3, and only players in S21 are connected with i in T . Moreover,
under s∗, i will be claimed as the ancestor with higher priority by all her descen-
dants in T . Then our problem degenerates to the case of trees in the previous
section, and by Lemma 3, i’s utility is maximized by FP, which means s∗ is a
Nash equilibrium. Moreover, the reason why s∗ is connected coalition-proof on
T is in the same with Theorem 1: Any connected subgraph in T forms a subtree
with a root player i, whose utility decreases by deviating from s∗. ��
Here we note that s∗ may not be connected coalition-proof on the original
network G. To see this, if all senders’ direct neighbours are connected with each
other, they can form a connected coalition and do not propagate the information
to others, which brings each of them higher utility than full propagation.
5 Experiments
Finally, we conduct experiments to confirm the validity of the free market design
in random networks. We first introduce the parameters in our experiments. Given
a parameter d, there are n players and each player is randomly connected to d
2
other players, so that the expected degree of each player is d. We study the utility
of a fixed player and the sender is randomly selected from the other players. Fix
all other players’ strategies to be full propagation. Set the initial reward to 1
and xmin = 1
H . In each experiment, we randomly generate K networks. For
simplicity, we only consider the strategies that withhold integral multiples of
xmin, and calculate the expected utility of the studied player for each strategy.
In Fig. 3, we set n = 1000 and H = 6. For each d = 6/10/14, we randomly
construct K = 100 networks. We observe that full propagation (by withholding
xmin) brings a significantly higher utility on average than the other strategies
Maximal Information Propagation via Lotteries 501
Fig. 3. When all players have the same expected degree.
(by withholding kxmin for k > 1). Then we revise the experiments by making the
studied player more powerful or less powerful than the others, where a powerful
player has higher degree than the others and a powerless player has lower degree
than the others. In Fig. 4, the degree for the powerful player is set to 2d and for
the powerless player it is set to be d
2 . Similarly, we observe that in both cases,
full propagation brings significantly higher utility than the other strategies.
Fig. 4. When the player is powerful or powerless.
Note that full propagation is not always optimal. If a player i exclusively
controls some players (i.e., the sender’s information can only be reached to them
via i) and these players form a complete graph, the optimal local strategy for
i is to leave 0 to all of them instead of full propagation. Thus, if the network
502 J. Chen and B. Li
structure is known to players, the players can compute their optimal propagating
strategies, which may not be full propagation. However, such “bad” networks
barely happen in random networks and never happen in reality. To further avoid
security threats, such as in a blockchain protocol, the players can be randomly
re-connected periodically so that it is not beneficial for players to spend effort
on learning network structures any more.
6 Conclusion and Future Directions
In this work, we design a free market with lotteries to incentivize players to
maximally propagate information to their friends. For trees and a large class of
non-tree networks, we prove that full propagation is robust against connected
coalitions of players. Particularly, full propagation in tree networks uniquely sur-
vives in an interval-based monotone iterative elimination of dominated strategies.
For future directions, from a theoretical perspective, it is intriguing to analyze
players’ behaviours in the free market within arbitrary or random networks and
consider non-uniform lotteries. For example, if the property of every node hav-
ing 3 good friends holds for certain random graphs, then Theorem 3 holds for
such graphs as well. In addition, in the current market only the final winner
and the players on the propagation path reaching her get rewarded. It would be
interesting to see if there is a way to select and reward more than one winners
and corresponding propagation paths. In a blockchain, this could correspond to
multiple block proposers whose blocks are not eventually finalized, and may help
reducing the players’ risk, so as to encourage more to participate in a risk-avert
model. Moreover, it is interesting and challenging to design new reward schemes
to incentivize information propagation in more complex networks. Finally, from
a practical perspective, experiments on synthetic and real-world data for com-
plex networks may reveal important insights on the behavior of a free market in
such networks, further enabling market design for them.
References
1. Abraham, I., Malkhi, D., Nayak, K., Ren, L., Spiegelman, A.: Solidus: an incentive-
compatible cryptocurrency based on permissionless byzantine consensus (2016)
2. Arcaute, E., Kirsch, A., Kumar, R., Liben-Nowell, D., Vassilvitskii, S.: On thresh-
old behavior in query incentive networks. In: EC, pp. 66–74. ACM (2007)
3. Babaioff, M., Dobzinski, S., Oren, S., Zohar, A.: On bitcoin and red balloons. In:
EC, pp. 56–73. ACM (2012)
4. Bernheim, B.D., Peleg, B., Whinston, M.D.: Coalition-proof Nash equilibria i. con-
cepts. J. Econ. Theory 42(1), 1–12 (1987)
5. Cebrián, M., Coviello, L., Vattani, A., Voulgaris, P.: Finding red balloons with
split contracts: robustness to individuals’ selfishness. In: STOC, pp. 775–788. ACM
(2012)
6. Chen, B.B., Chan, M.C.: Mobicent: a credit-based incentive system for disruption
tolerant network. In: INFOCOM, pp. 875–883. IEEE (2010)
7. Chen, J., Gilad, Y.: A relay market for the algorand blockchain. Manuscript (2018)
Maximal Information Propagation via Lotteries 503
8. Chen, J., Li, B.: Maximal information propagation via lotteries. CoRR
abs/2110.10606 (2021)
9. Chen, W., Wang, Y., Yu, D., Zhang, L.: Sybil-proof mechanisms in query incentive
networks. In: EC, pp. 197–214. ACM (2013)
10. Chen, X., Papadimitriou, C.H., Roughgarden, T.: An axiomatic approach to block
rewards. In: AFT, pp. 124–131. ACM (2019)
11. Cosśıo, F.J.M., Brigham, E., Sela, B., Katz, J.: Competing (semi-)selfish miners
in bitcoin. In: AFT, pp. 89–109. ACM (2019)
12. Douceur, J.R.: The Sybil attack. In: Druschel, P., Kaashoek, F., Rowstron, A.
(eds.) IPTPS 2002. LNCS, vol. 2429, pp. 251–260. Springer, Heidelberg (2002).
https://doi.org/10.1007/3-540-45748-8 24
13. Drucker, F., Fleischer, L.: Simpler Sybil-proof mechanisms for multi-level market-
ing. In: EC, pp. 441–458. ACM (2012)
14. Emek, Y., Karidi, R., Tennenholtz, M., Zohar, A.: Mechanisms for multi-level
marketing. In: EC, pp. 209–218. ACM (2011)
15. Ersoy, O., Erkin, Z., Lagendijk, R.L.: Decentralized incentive-compatible and Sybil-
proof transaction advertisement. In: Pardalos, P., Kotsireas, I., Guo, Y., Knot-
tenbelt, W. (eds.) Mathematical Research for Blockchain Economy. SPBE, pp.
151–165. Springer, Cham (2020). https://doi.org/10.1007/978-3-030-37110-4 11
16. Ersoy, O., Ren, Z., Erkin, Z., Lagendijk, R.L.: Transaction propagation on permis-
sionless blockchains: incentive and routing mechanisms. In: CVCBT, pp. 20–30.
IEEE (2018)
17. Eyal, I., Sirer, E.G.: Majority is not enough: Bitcoin mining is vulnerable. In:
Christin, N., Safavi-Naini, R. (eds.) Financial Cryptography and Data Security,
pp. 436–454 (2014)
18. Johnson, B., Laszka, A., Grossklags, J., Vasek, M., Moore, T.: Game-theoretic
analysis of DDoS attacks against bitcoin mining pools. In: Böhme, R., Brenner,
M., Moore, T., Smith, M. (eds.) FC 2014. LNCS, vol. 8438, pp. 72–86. Springer,
Heidelberg (2014). https://doi.org/10.1007/978-3-662-44774-1 6
19. Kiayias, A., Koutsoupias, E., Kyropoulou, M., Tselekounis, Y.: Blockchain mining
games. In: EC, pp. 365–382. ACM (2016)
20. Kleinberg, J.M., Raghavan, P.: Query incentive networks. In: FOCS, pp. 132–141.
IEEE Computer Society (2005)
21. Koutsoupias, E., Lazos, P., Ogunlana, F., Serafino, P.: Blockchain mining games
with pay forward. In: WWW, pp. 917–927. ACM (2019)
22. Lewenberg, Y., Bachrach, Y., Sompolinsky, Y., Zohar, A., Rosenschein, J.S.: Bit-
coin mining pools: a cooperative game theoretic analysis. In: AAMAS, pp. 919–927.
ACM (2015)
23. Myerson, R.B.: Graphs and cooperation in games. Math. Oper. Res. 2(3), 225–229
(1977)
24. Nakamoto, S.: Bitcoin: a peer-to-peer electronic cash system (2008)
25. Rosenfeld, M.: Analysis of bitcoin pooled mining reward systems. CoRR
abs/1112.4980 (2011)
26. Schrijvers, O., Bonneau, J., Boneh, D., Roughgarden, T.: Incentive compatibility
of bitcoin mining pool reward functions. In: Grossklags, J., Preneel, B. (eds.) FC
2016. LNCS, vol. 9603, pp. 477–498. Springer, Heidelberg (2017). https://doi.org/
10.1007/978-3-662-54970-4 28
27. Shi, H., Zhang, Y., Si, Z., Wang, L., Zhao, D.: Maximal information propagation
with budgets. In: ECAI. Frontiers in Artificial Intelligence and Applications, vol.
325, pp. 211–218. IOS Press (2020)
https://doi.org/10.1007/3-540-45748-8_24
https://doi.org/10.1007/978-3-030-37110-4_11
https://doi.org/10.1007/978-3-662-44774-1_6
https://doi.org/10.1007/978-3-662-54970-4_28
https://doi.org/10.1007/978-3-662-54970-4_28
	Maximal Information Propagation via Lotteries
	1 Introduction
	1.1 Our Contribution
	1.2 Related Works
	2 Game Theoretic Model and Preliminaries
	3 Main Results
	3.1 Technical Lemmas
	3.2 Main Results
	4 A Class of Non-tree Networks
	5 Experiments
	6 Conclusion and Future Directions
	References