Moral Hazard in Games of Miners (Short Paper)
Moral Hazard in Games of Miners (Short Paper)
Jingchang Sun
sunjc16@mails.tsinghua.edu.cn
Tsinghua University
Yulong Zeng
yulong.zeng@asresearch.io
ASResearch
ABSTRACT
Cryptocurrency mining, which has attracted substantial attention
recently, is a gamewhereminers costmining power and compete for
an amount of digital token. In this paper, we revisit this game under
new settings that miners’ maximal mining powers, i.e. capacities,
are disparate. We show it has a unique pure Nash-equilibrium and
derive the closed-form. In the PNE, miners fall into two types: half-
hearted and all-out, the former of which owns more capacity than
the latter. An all-out miner mines with her full capacity while a half-
hearted miner does not. Compared with the desired equilibrium
that every miner does her best, our result reveals that the disparity
of capacity leads to less total mining power, compromising the
security of cryptocurrency systems.
CCS CONCEPTS
• Computing methodologies → Multi-agent systems; • The-
ory of computation → Exact and approximate computation of
equilibria; • Applied computing → Digital cash.
KEYWORDS
Cournot game, mining, proof-of-work, Blockchain, Bitcoin
ACM Reference Format:
Jingchang Sun and Yulong Zeng. 2019. Moral Hazard in Games of Miners
(Short Paper). In First International Conference on Distributed Articial Intel-
ligence (DAI ’19), October 13–15, 2019, Beijing, China. ACM, New York, NY,
USA, 2 pages. https://doi.org/10.1145/3356464.3358747
1 INTRODUCTION
Since the birth of Bitcoin [18] in 2008, the blockchain-based cryp-
tocurrency has emerged as a popular class of asset.
Most cryptocurrencies relies on the Proof-of-Work (PoW) proto-
col, which demands the participants, i.e. miners, consume mining
power, i.e. hashrate, and allocates some digital token to them as re-
ward. For all miners, the total reward is xed, e.g. 12.5 for Bitcoin in
practice. For each miner, the expected reward is proportional to her
hashrate out of all miners’, due to the nature of mining process [4],
while the cost is proportional only to her own hashrate, since an
amount of electricity must be burned for each unit of hashrate.
However, PoW faces severe inequality problem—miners’ hashrate
distribution has become increasingly disparate over the past decade [3,
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for prot or commercial advantage and that copies bear this notice and the full citation
on the rst page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specic permission and/or a
fee. Request permissions from permissions@acm.org.
DAI ’19, October 13–15, 2019, Beijing, China
© 2019 Association for Computing Machinery.
ACM ISBN 978-1-4503-7656-3/19/10. . . $15.00
https://doi.org/10.1145/3356464.3358747
7, 15, 20], which reects that the maximal hashrates, i.e. capacities,
of miners, meanwhile, are also signicantly unequal. This chal-
lenges conventional models where all miners have suciently high
capacities and invest same hashrate [4]. As a consequence, it is
worth revisiting the following questions: 1) should a miner mine
with full capacity or leave some capacity idle? and 2) should miners
behave in the same way, despite their dierence in capacity?
In order to deal with the above concern, we propose a propor-
tional allocation game (PAG) [10] and assume every miner owns
dierent capacity. We analyze its pure Nash-equilibrium (PNE) and
compare it with other models’.
Our main contribution is to show the game has a unique PNE
as well as deriving its closed-form, which suggests not all miners
need to exhaust the capacity, and not all miners act in the same way.
There are two kinds of miners: half-hearted and all-out, the former
of which has more capacity than the latter. Only all-out miners use
their capacities up, and only half-hearted miners invest the same
hashrate. Not desired by conventional models, this PNE reduces
the total hashrate and leads to a less secure cryptocurrency.
2 RELATEDWORK
There are quite a few game-theoretic topics on cryptocurrency
mining (see [1, 8, 12, 13, 16, 17, 22]) , a most basic of which is how
much hashrate a miner should invest. Chiu et al. [4] and Pagnotta
[19] use a simple symmetric Cournot game to study this problem.
They assert each miner invests same hashrate in the equilibrium.
With similar setting, Dimitri [5] and Arnosti and Weinberg [2]
introduce dierent marginal cost of miners. However, both models
rely on non-binding capacity. We, instead, take asymmetrically
binding capacity into consideration.
Our model is a variation of PAG, whose basic model comes
from Kelly [11]. As seminal works, Johari and Tsitsiklis [10] and Jo-
hari [9] study the price of anarchy [14]. Then Tang et al. [21] provide
the closed-form PNE with a reserved price. Note they take the val-
uation of resource as users’ type, while we take capacity as type
and all miners have same valuation, since they can sell the token
reward at the same price in exchanges. Feldman et al. [6] assume
users have limited capacity but must spend every penny. On the
contrary, our model does not force them to use the capacity up. To
the best of our knowledge, we are the rst to analyze PAG with
retainable capacity and derive its closed-form PNE.
3 MODEL
We formalize mining game as a proportional allocation game with
complete information, where n self-interested price-anticipating
miners compete for reward R.
For miner i the capacity is ci . Without losing generality, miners
indices are sorted descendingly by capacity, i.e. c1 ≥ c2 ≥ · · · ≥ cn .
Generally, n ≥ 2,R > 0 and cn > 0.
https://doi.org/10.1145/3356464.3358747
https://doi.org/10.1145/3356464.3358747
http://crossmark.crossref.org/dialog/?doi=10.1145%2F3356464.3358747&domain=pdf&date_stamp=2019-10-13
DAI ’19, October 13–15, 2019, Beijing, China Sun and Zeng
The hashrate of miner i is hi , with hi ∈ [0, ci ]. If hi = ci , the
miner is called all-out, otherwise she is called half-hearted. The
total hashrate except miner i is denoted by h−i .
The utility of miner i is ui (hi ,h−i ) =
hi
hi+h−i
R − αhi , where the
rst term is the reward and the second is the cost, while α is a
constant coecient representing the electricity fee.
A hashrate prole (h∗
1
, . . . ,h∗n ) is a PNE, if and only if for each
miner i and anyh′i ∈ [0, ci ], it holdsui (h
∗
i ,h
∗
−i ) ≥ ui (h
′
i ,h
∗
−i ), where
h∗
−i =
∑
j ∈[n]∧j,i h
∗
j .
4 CLOSED FORM PURE NASH-EQUILIBRIUM
4.1 PNE with Non-binding Capacity
We introduce a symmetric result which has been widely desired as
follows. Recall the conventional models where miners’ capacities
are suciently high, every miner’s hashrate is
n−1
n2
R
α (see formula
5 of [4]). Note we can assume the capacity is exactly
n−1
n2
R
α , and
then all miners are deemed to do their best, contributing
n−1
n
R
α as
the total hashrate.
4.2 PNE with Binding Capacity
Now we analyze the game when the capacity is not as high as it
can be. By Theorem 1, we show the game has a unique pure Nash-
equilibrium and derive its closed form. In the PNE, miners with the
smallest capacities are all-out, while the remaining richest miners
are half-hearted investing the same hashrate, which is more than
any all-out miner’s.
Theorem 1. Themining game has a unique PNE, the total hashrate
is S∗ and h∗i =min{S∗ − α
R (S
∗)2, ci }, where S∗ =mink ∈[0,n]Sk and
Sk =
(k − 1)R +
√
4αkR
∑
j ∈[k+1,n] c j + (k − 1)2R2
2αk2
.
Specially, S0 =
∑
j ∈[n] c j .
Proof. First we gure out the best response of a miner, and
then we show the structure of PNE. Given h−i , the best response of
miner i should satisfy the rst and second order conditions on utility
dui
dhi
= 0 and
d2ui
dh2
i
< 0, which yields hi = (hi +h−i ) −
α
R (hi +h−i )
2
.
Consider all miners take their best response and the total hashrate is
S∗ and sincehi is bounded by ci , we haveh
∗
i =min{S∗− α
R (S
∗)2, ci }.
Suppose the PNE structure is miners [k] invest S∗ − α
R (S
∗)2 and
miners [k+1,n] invest their capacities, it holds that k(S∗− α
R (S
∗)2)+∑
j ∈[k+1,n] c j = S∗. Solving that we have S∗ = Sk . By proving
ci+1 ≥ (Si+1 −
α
R S
2
i+1) ⇔ ci+1 ≥ (Si −
α
R S
2
i ) ⇔ Si ≥ Si+1 (and the
“≤” case)1, we can show Si =mink ∈[n]Sk is the only Si such that
Si −
α
R S
2
i <∈ [ci+1, ci ], which supports the PNE structure. �
Next we compare the above closed-form PNE with the symmet-
ric result in § 4.1. Suppose S∗ = Sk , it holds Sk ≤ Sn =
n−1
n
R
α ,
the rightmost side of which is precisely the total hashrate of the
symmetric equilibrium. Thus it can be concluded that due to the
binding capacity, the total hashrate is reduced, and it is easier for
an adversary to control the majority of hashrate, which makes the
cryptocurrency system less secure.
1
For the interest of space, we omit the proof here.
REFERENCES
[1] Colleen Alkalay-Houlihan and Nisarg Shah. 2019. The Pure Price of Anarchy of
Pool Block Withholding Attacks in Bitcoin Mining. (2019).
[2] Nick Arnosti and S. Matthew Weinberg. 2018. Bitcoin: A Natural Oligopoly.
arXiv:cs.CR/1811.08572
[3] Alireza Beikverdi and JooSeok Song. 2015. Trend of centralization in Bitcoin’s
distributed network. In 2015 IEEE/ACIS 16th International Conference on Software
Engineering, Articial Intelligence, Networking and Parallel/Distributed Computing
(SNPD). IEEE, 1–6.
[4] Jonathan Chiu, Thorsten Koeppl, et al. 2018. Incentive compatibility on the
blockchain. Technical Report. Bank of Canada.
[5] Nicola Dimitri. 2017. Bitcoin mining as a contest. Ledger 2 (2017), 31–37.
[6] Michal Feldman, Kevin Lai, and Li Zhang. 2005. A price-anticipating resource
allocation mechanism for distributed shared clusters. In Proceedings of the sixth
ACM conference on Electronic commerce. ACM, 127–136.
[7] Adem Efe Gencer, Soumya Basu, Ittay Eyal, Robbert Van Renesse, and Emin Gün
Sirer. 2018. Decentralization in bitcoin and ethereum networks. arXiv preprint
arXiv:1801.03998 (2018).
[8] Nicolas Houy. 2016. The Bitcoin Mining Game. Ledger 1 (2016), 53–68.
[9] Ramesh Johari. 2007. The price of anarchy and the design of scalable resource
allocation mechanisms, Noam Nisan, Tim Roughgarden, Eva Tardos, and Vijay V
Vazirani (Eds.). Algorithmic Game Theory, 543–568.
[10] Ramesh Johari and John N Tsitsiklis. 2004. Eciency loss in a network resource
allocation game. Mathematics of Operations Research 29, 3 (2004), 407–435.
[11] Frank Kelly. 1997. Charging and rate control for elastic trac. European transac-
tions on Telecommunications 8, 1 (1997), 33–37.
[12] Aggelos Kiayias, Elias Koutsoupias, Maria Kyropoulou, and Yiannis Tselekounis.
2016. Blockchain Mining Games. In Proceedings of the 2016 ACM Conference
on Economics and Computation (EC ’16). ACM, New York, NY, USA, 365–382.
https://doi.org/10.1145/2940716.2940773
[13] Elias Koutsoupias, Philip Lazos, Paolo Serano, and Foluso Ogunlana. 2019.
Blockchain Mining Games with Pay Forward. arXiv preprint arXiv:1905.07397
(2019).
[14] Elias Koutsoupias and Christos Papadimitriou. 1999. Worst-case equilibria. In
Annual Symposium on Theoretical Aspects of Computer Science. Springer, 404–413.
[15] Yujin Kwon, Jian Liu, Minjeong Kim, Dawn Song, and Yongdae Kim. 2019. Im-
possibility of Full Decentralization in Permissionless Blockchains. arXiv preprint
arXiv:1905.05158 (2019).
[16] Yoad Lewenberg, Yoram Bachrach, Yonatan Sompolinsky, Aviv Zohar, and Jef-
frey S Rosenschein. 2015. Bitcoin mining pools: A cooperative game theoretic
analysis. In Proceedings of the 2015 International Conference on Autonomous Agents
and Multiagent Systems. Citeseer, 919–927.
[17] Francisco J Marmolejo-Cossío, Eric Brigham, Benjamin Sela, and Jonathan Katz.
2019. Competing (Semi)-Selsh Miners in Bitcoin. arXiv preprint arXiv:1906.04502
(2019).
[18] Satoshi Nakamoto. 2008. Bitcoin: a peer-to-peer electronic cash system.
[19] Emiliano Pagnotta. 2018. Bitcoin as DecentralizedMoney: Prices, Mining Rewards,
and Network Security. Mining Rewards, and Network Security (October 26, 2018)
(2018).
[20] Matteo Romiti, Aljosha Judmayer, Alexei Zamyatin, and Bernhard Haslhofer.
2019. A Deep Dive into Bitcoin Mining Pools: An Empirical Analysis of Mining
Shares. arXiv preprint arXiv:1905.05999 (2019).
[21] Pingzhong Tang, Yulong Zeng, and Song Zuo. 2017. Fans Economy and All-Pay
Auctions with Proportional Allocations.. In AAAI. 713–719.
[22] Itay Tsabary and Ittay Eyal. 2018. The gap game. In Proceedings of the 2018 ACM
SIGSAC Conference on Computer and Communications Security. ACM, 713–728.
http://arxiv.org/abs/cs.CR/1811.08572
https://doi.org/10.1145/2940716.2940773
	Abstract
	1 Introduction
	2 Related Work
	3 Model 
	4 Closed Form Pure Nash-equilibrium 
	4.1 PNE with Non-binding Capacity
	4.2 PNE with Binding Capacity
	References