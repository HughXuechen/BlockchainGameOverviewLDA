Energy Blockchain for Demand Response and Distributed Energy Resource Management
Energy Blockchain for Demand Response and
Distributed Energy Resource Management
Mikhak Samadi†, Henry Schriemer†, Sushmita Ruj‡, Senior Member, IEEE and
Melike Erol-Kantarci†, Senior Member, IEEE
†School of Electrical and Computer Engineering, University of Ottawa, Ottawa, Canada
‡Data61, CSIRO and UNSW, Sydney, Australia
Email: msama043@uottawa.ca, sushmita.ruj@data61.csiro.au, {hschriemer, melike.erolkantarci}@uottawa.ca
Abstract—The high impact of demand reduction on the energy
grid management and the importance of reducing loss of distributed
energy resources (DERs), in addition to the necessity of a secure
distributed data storing system motivate us to propose an energy
blockchain solution. This paper presents a demand response (DR)
solution utilizing energy blockchain to reduce demand, save the
extra DERs, and efficiently incorporate customers block mining
ability. In this work, a real dataset of customer demand profiles
and PV generation in the Ottawa region is used to deploy a DR
Stackelberg game between a control agent (CA) and local customers
to negotiate demand reduction by integrating the block mining
method as DERs saving. This article presents a novel and well-suited
consensus algorithm, Proof of Energy Saving (PoES), that is used to
incentivize the customers to reduce their demand, discharge their
electric vehicle (EV) and maximize their chance for block mining to
earn monetary rewards and DER savings. This results in lower peak
demand, customer bill reduction, and transforms energy savings into
monetary resources. Furthermore, the results show that our proposed
consensus algorithm is robust and secure against malicious actions
of users.
I. INTRODUCTION
Demand response (DR) is an important application in smart
grid that controls the demand and supply, and eliminates the
surplus need for energy import, and prevents peak time slots [1].
To encourage the customers to contribute to a demand reduction
program, an incentive-based DR control model is presented in
this article that is integrated with an energy blockchain to provide
a secure, distributed architecture.Due to the complexity of the
energy trading market management on surplus distributed energy
resources (DERs), some demand response studies [2, 3] have used
the surplus energy to run blockchain for network supervision
and mine cryptocurrencies that work similar to energy storage
systems. The main idea of having an energy blockchain is to
employ the customer’s potentials (surplus energy and hardware
equipment) in organizing a data storage system without waste
of resources. In other words, this is a profitable model for both
customers and the control agent (CA), where the storage system
design and maintenance cost for the CA decreases, and customers
can invest their surplus energy in blockchain architecture and
receive rewards. In another perspective, the energy blockchain
could perform as an electricity storage system in DR programs
while the extra resources are consumed for block generation and
rewards are allocated in return. Furthermore, this is a distributed
ledger architecture that could be used for agreement on demand
management between the CA and customers [4].
Authors in [5] have discussed the side effects of negative
electricity pricing in markets due to the surplus generation, and for
solving this issue, they have elaborated cryptocurrency mining as a
DR mechanism. Cryptocurrency mining could be used for energy
storage when the demand for the distribution network is less than
the generation. Therefore, surplus energy could be used for block
mining and contribute to the cryptocurrency economy. During the
high demand and low generation, the agent can buy electricity
from other sources and pay the bill with cryptocurrencies. In the
same way, authors in [6] have introduced the idea of storing
wind farm surplus generation as cryptocurrency (Bitcoin). A
cryptocurrency storage system has been implemented in California
to reduce the waste of renewable energies [7]. Moreover, to
eliminate the high cost of battery installation and its maintenance
expenses, blockchain mining can enhance the value of surplus
energy by acting as an implicit storage medium for household
customers.
Authors in [3] have used the blockchain for an automated
energy trading model where all the entities collaborate without the
supervision of the distribution system operator (DSO). A pricing-
based Stackelberg game [8, 9] model has been presented in [10]
that provides an energy trading market between the prosumers
to find the market price using an energy blockchain peer-to-peer
platform. Gallo et.al. [11] have described a DR mechanism that
uses blockchain and smart contract to develop a decentralized
peer-to-peer communication network between the system operator
and customers. To bring agents to an agreement on selecting
the next block miner node(s), consensus algorithms are required
[12]. Apart from common consensus algorithms, such as proof
of work (PoW) [13] and proof of stake (PoS) [14], there are
some specific consensus algorithms that are designed for systems
with distinct functionalities. For instance, Asheralieva et al. [15]
presented a consensus mechanism that uses voting, and only the
high reputation agents are eligible to vote and are selected as
miners. Moreover, an energy trading model has been implemented
between the virtual power plants (VPPs) and DERs, where the
block mining protocol, proof of energy market (PoEM), selects
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
978-1-6654-1502-6/21/$31.00 ©2021 IEEE 42520
21
 IE
EE
 In
te
rn
at
io
na
l C
on
fe
re
nc
e 
on
 C
om
m
un
ic
at
io
ns
, C
on
tr
ol
, a
nd
 C
om
pu
tin
g 
Te
ch
no
lo
gi
es
 fo
r S
m
ar
t G
rid
s (
Sm
ar
tG
rid
Co
m
m
) |
 9
78
-1
-6
65
4-
15
02
-6
/2
1/
$3
1.
00
 ©
20
21
 IE
EE
 |
 D
O
I: 
10
.1
10
9/
SM
AR
TG
RI
DC
O
M
M
51
99
9.
20
21
.9
63
23
26
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
the VPP with the highest traded energy as a block miner [16].
In another work, a novel peer-to-peer energy trading consensus
algorithm, proof of energy (PoE), has been presented to elect
an individual prosumer as a block miner where its generation
is almost equal to the consumption,[17]. Different than prior
work, authors in [18] have presented an energy market mechanism
to balance the demand and response utilizing two consensus
algorithms, proof of energy generation (PoEG) and proof of
energy consumption (PoEC), to select the miners based on either
generation or consumption. Furthermore, proof of benefit (PoB)
consensus algorithm has been illustrated in [19] where an electric
vehicle (EV) with the maximum influence on the grid performance
(within its charging and discharging) was selected as a miner. Data
privacy has to be incorporated in the consensus algorithm [20] to
protect users against malicious actors; this has been considered in
our proposed model. Thus, in our research a demand reduction
model is associated with the block mining consensus algorithm
to incentivize customers to participate more in demand reduction
and increase their chance of being selected as a block miner.
Our Contributions: A demand response (DR) Stackelberg
game is developed between the control agent (CA) and customers
to design a novel DR solution integrated with energy blockchain.
Our model incentivizes customers to maximize their demand
reduction profit value, charge and discharge EV efficiently, and
maximize their chance to gain rewards through block mining.
We design an energy blockchain to store the energy transaction
data securely and use the surplus household DERs for block
mining to reduce the waste of energy (unlike the traditional PoW
Bitcoin platform). The customers (miners) not only receive block
mining monetary rewards but also maximize the profit of demand
reduction and EVs state of charge using DERs.
The remainder of this paper is organized into three sections.
Section II defines our proposed architecture, consensus algorithm,
and utility functions, strategies, and constraints for CA and
customers. In section III, the simulation results are presented, and
finally, section IV concludes the paper with a summary of our
findings.
II. SYSTEM MODEL
In our model, the DSO intends to offer an incentive-based
demand reduction to decrease the demand of customers at peak
to minimize the energy import. To implement this idea, a DR
Stackelberg game is designed between the control agent (CA)
and customers to reduce demand using household photovoltaic
(PV) generation, electric vehicle (EV) capacity. Based on Fig.1,
the DSO sends a DR request to the customers through the CA
during peak time slots. The CA is an intelligent agent interacting
with customers and reduces the work load of DSO. To provide a
trustful and distributed data storage system, the grid transactions
(such as game negotiations and DR control signals) are stored on
the blockchain where customers, CAs, and DSO are the nodes
of the energy blockchain. There are private blockchains (PB) in
the network where customers are the nodes that can distribute the
Fig. 1: Illustration of our DR Architecture and the smart grid.
transactions and blocks through wireless communication. Every
PB requires a block miner to generate a block of transactions
and attaches it to the chain. To pick a miner between the agents,
we present proof of energy saving (PoES) consensus algorithm
that works similar to the proof of stake (PoS). The node with
the highest consensus ratio (energy saving) at a mining event is
selected as the miner and validates the transactions. Our consensus
algorithm considers the reputation of the node, demand reduction
(that is calculated by the Stackelberg game), and available energy
for block mining.
A. Proof of Energy Saving Consensus Algorithm
A miner is a node from the network that is selected through
the consensus algorithm. In this work, a consensus mechanism
is proposed to use the surplus DERs of customers for the block
mining operation, which is similar to a storage system that saves
energy into monetary resources. In our consensus mechanism,
each node has a consensus value that is measured with availability,
reputation, and compliance ratio factors. Therefore, the consensus
value for customer i, where i ∈ Nc = {1, 2, . . . , Nc}, is calculated
with the average of three factors (Ai, Ri, ρi). 1) Availability
(Ai ∈ [0, 1]); for mining, a node spends mining energy equal
to χ and can supply the energy by PV generation (xPV
i1 ), demand
(xdemand
i1 ) (that is a part of customer desired consumption) and
discharging its EV capacity (xEV
i1 ). The availability is calculated
as below.
Ai =
(xPV
i1 + xdemand
i1 + xEV
i1 )
χ
(1)
2) Reputation (Ri ∈ [0, 1]); nodes can rank their experience
of interacting with other nodes as trusted, untrusted or uncertain
according to [15]. Smart contract is an execution code that
runs by all the nodes in the blockchain network to check the
transaction validation before being added to the block. Therefore,
the smart contract can validate a transaction and detect a node
with malicious action. In our model, customers with malicious
actions lose their reputation value due to the untrusted votes
other customers submit. 3) Compliance Ratio (ρi ∈ [0, 1]);
this is the ratio of a customer’s total electricity reduction to its
total requested reduction. The set e is the index of a DR event
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
426
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
and E is the number of events happened in a window of one
week, where e ∈ E = {1, . . . , E}. The value cei is customer i’s
demand reduction at event e and rei is the amount of demand
reduction the CA asks the customer i at event e where we have
ci = (c1i , c
2
i , . . . , c
E
i ), ri = (r1i , r
2
i , . . . , r
E
i ). The compliance ratio
of a customer is defined as follows;
ρi =
E−1∑
e=1
cei + (xPV
i2 + xdemand
i2 + xEV
i2 )
E∑
e=1
rei
, (2)
where
E−1∑
e=1
cei represents the summation of demand reduction until
event (E − 1) and
E∑
e=1
rei is the summation of demand request
within a week. In other words, the cei for the recent DR event (E)
is equal to cei = xPV
i2 + xdemand
i2 + xEV
i2 . Customer can reduce
its demand using PV generation (xPV
i2 ), actual demand reduction
(xdemand
i2 ) (by shaving or shifting the demand), and discharging
EV capacity (xEV
i2 ) to handle the request. Hence, a customer with
a considerable history of demand reduction has more chance to
be selected as a block miner. By averaging these three factors,
the consensus value of customer i would be ARCi ∈ [0, 1],
and the customer with the maximum ARC value is selected as
the block miner in each mining event. This means that miners
with high availability, high reputation and high compliance factors
will be favoured. Proof of energy savings (PoES) consumes less
energy for block mining in comparison with PoW and PoS, while
only one node is responsible for the mining process. Moreover,
it is a well-suited consensus algorithm for incentive-based DR
architectures that consider the combination of reputation and
energy contribution to select a miner.
B. Utility Functions
Distribution system operator (DSO) predicts the total demand
using the support vector regression (SVR) [21] prediction engine
and recognizes the peak time slots and high-demand situations
a day-ahead. Therefore, it sends DR requests (demand reduction
signal) to maximize the contribution of customers and minimize
the monetary reward paid for compensation according to (3).
After the DSO initiates the Stackelberg game, the control agent
(CA) starts interacting with customers and allocates different DR
requests rei ,∀i ∈ Nc, based on the compliance ratio of customers
ρi for the recent DR event (e). The strategy vector of the CA
at the recent event e is re = (re1, r
e
2, . . . , r
e
Nc
). Thus, the utility
function of the CA is defined as
Ud = ln (A+ α
N∑
i=1
cei )−
β
Nc∑
i=1
(ρir
e
i )
A
, (3)
subject to;
Nc∑
i=1
rei ≥ G
rei ≥ li,∀i ∈ Nc.
The value α is the associated DR profit price for the DSO,
G is the desired minimum energy reduction of the DSO, li is the
minimum available DR reduction for customer i, β is the allocated
reward value for the customer reduction, cei is the customer i’s
electricity reduction for the recent event (e), A is the scaling
parameter, and ρi is customer i compliance ratio which helps
the CA to allocate demand reduction accordingly. In (3), the first
constraint is used to keep the total DR request more than the
minimum reduction threshold, and the second constraint keeps the
DR request more than the minimum availability of the customer.
Before the game starts, the customers submit the reputation
values and rate each other, but the availability and compliance
ratio are calculated during the Stackelberg game due to their
dependence on the demand reduction. In this game, customers
are the followers, and their goal is to find the best strategy (cei ),
that maximizes their probability for block mining (ARCi), and
maximizes the profit of EV charging and demand reduction reward
at the recent DR event (e). The customers can use their PV
generation, demand, and EV capacity for both block mining and
demand reduction. Moreover, the PV generation is first consumed
for mining, then demand, and the surplus is used to charge the
EV. The customer’s utility function is presented as
Uc = γ(ARCi) + θxEV
i3 + βcei , (4)
subject to;
xPV
i2 + xdemand
i2 + σix
EV
i2 ≤ rei
xPV
i1 + xdemand
i1 + σix
EV
i1 = χ
xPV
i1 + xPV
i2 + σix
EV
i3 ≤ Pi
Bmin
i ≤ Bcurrent
i + σi(x
EV
i3 − xEV
i1 − xEV
i2 ) ≤ Bmax
i
xdemand
i1 + xdemand
i2 ≤ pi − di.
The ARCi was represented in the previous section, and γ
is the allocated reward for block mining. According to (4), the
second term maximizes the EV charging profit, and the third term
maximizes the reward of demand reduction. The values θ and β
are the profit rate of charging EV through PV and the reward value
of demand reduction, respectively. In addition, xEV
i3 represents the
extra PV energy used for EV charging. The value Pi is the total
PV generation of customer i at the recent DR event, xPV
i1 , xdemand
i1
and xEV
i1 are the unknown variables used to find the optimized
value of PV, demand, and discharged EV energy allocation for
block mining respectively. Moreover, xPV
i2 , xdemand
i2 and xEV
i2 are
the unknown variables use to show the amount of PV, demand, and
discharged EV energy usage for demand reduction, respectively.
Note that cei = xPV
i2 + xdemand
i2 + xEV
i2 is the reduction strategy
of the customer i in the game, and all the x’s are the unknown
variables.
Based on (4), the first constraint keeps the demand reduction
less than CA’s DR request (rei ), the second provides the required
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
427
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
mining energy, the third constraint controls the PV generation
(Pi), the fourth monitors the EV charging and discharging and
keeps the current capacity Bcurrent
i between the minimum Bmin
i
and maximum Bmax
i battery capacity, and the final constraint
keeps the demand reduction (xdemand
1 + xdemand
2 ) always less
than the predicted consumption (pi) minus the essential household
demand (di) of customer i. The binary value σi represents the state
of EV, σi = 1 means EV is parked at home and the customer can
discharge/charge it, otherwise, σi = 0. Then, after the game is
converged, the consensus value of each customer is calculated
(according to above subsection), and the one with the maximum
ARC value is selected as block miner.
The aforementioned scheme mainly focuses on the block min-
ing process at DR events, but from the network supervision
perspective, the DSO requires real-time demand information of
customers to monitor the distribution network. Then, customers
will send their demand profile to the CA regularly for monitoring
purposes, and a block mining process is also required to store
the supervision data on the blockchain. Therefore, for the sake
of storing supervision data on the blockchain, customers need
to maximize their utility function (4) to find the values of
xPV
i1 , xdemand
i1 , xEV
i1 and xEV
i3 and exclude other variables and
their corresponding constraints. Then, the consensus values are
calculated to find the block miner for the supervision case.
C. Stackelberg Game
The equilibrium strategy for the follower(s) in a Stackelberg
game is any strategy that establishes an optimal response to the
one adopted by the leader(s) [22]. This model is a forward leader-
follower game among the controlling agent (CA) (Nd = 1), as a
leader, and customers (Nc = Nc) as followers with the total N =
Nd∪Nc number of players. Therefore, a unique equilibrium point
exists in our Stackelberg game Γ = (N , {Sn}n∈N , {Un}n∈N ),
where the set of strategy for player n (Sn) is non-empty, con-
vex/concave and compact in Euclidean space. Moreover, according
to (3) and (4) both utility functions (Ud and Uc) are continuous
and differentiable on their set of strategies, and (3) is concave
which guarantees the game has a maximum and unique strategy.
The game initiates by announcing a set of strategy from CA (re)
to the customers, and then, the customers will choose their best
response strategy as follows;
cei
∗ = argmax
C
Uc(r
e
i ),∀i ∈ Nc (5)
Let cei
∗ be the best response strategy of customer i and ce∗ =
(ce1
∗, ce2
∗, . . . , ceNc
∗) be the follower’s best strategy profile and
C represents the constraints in (4). The leader will accordingly
calculate its best strategy re∗ by;
re∗ = argmax
D
Ud(ce∗, β), (6)
where D represents the constraints in (3). These steps repeat till a
feasible set of strategies is obtained. Therefore, (ce∗, re∗) would
be a Stackelberg Equilibrium (SE) set for the game at event e.
Fig. 2: Total demand profile and allocated energies of customers in a
day in July
III. SIMULATION RESULTS
A critical concern in the block mining process is to estimate
the required energy for block generation. The energy usage mainly
depends on the number of transactions, the difficulty level of the
hash function, and the energy consumption of miner [23, 24].
In a recent work [25], the authors have found that in a small
private blockchain network, a miner with a 2 core CPU and 8 GB
RAM processing system requires 1 Watt to process one trans-
action. Consequently, in our proposed distribution network, the
miner (customer) with the same hardware features requires almost
χ = 3.2 kW (the mempool size is 3200 transactions) electricity to
generate a block. Since we have Nc = 100 customers, the CA ini-
tiates DR requests by sending 100 individual transactions, and then
we run the Stackelberg game for 15 iterations (30 bidirectional
transactions) to settle the results. From the network supervision
perspective, customers send their demand profiles to the CA every
15 minutes, then they transmit almost 400 monitoring signals
(transactions) in one hour, and every eight hours the block mining
process runs to store the data on the blockchain (due to the size
of the mempool). Thus, three block minings are required to store
24-hours monitoring data on blockchain that occur at 8 am, 4 pm,
and 12 am every day.
For the simulation part, a real dataset of customers consumption
profiles over a year is used that was collected by Hydro Ottawa
Limited, in Ottawa, Ontario. We focus on the customer usage
profile in July because the photovoltaic (PV) panels have the
maximum energy generation in the Ottawa region, and we employ
a dataset of PV electricity generation collected by the University
of Ottawa SUNLAB during that period [26]. A support vector
regression (SVR) model is applied to predict the demand profile
of customers a day ahead. To simulate the proposed architecture,
Python and MATLAB are used, and assumed that each customer
has a PV system (with maximum 4kW capacity), Electric Vehicle
(EV) (with a total capacity of 40kW), and a Home Energy
Management System (HEMS) with 2 cores CPU and 8 GB RAM
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
428
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
Fig. 3: Consumption profile of three customers in a day in July that keep EV at home (a) 100% (b) 50% and (c) 0% of working hours
Fig. 4: Average reputation value during 15 block mining events for
different percentage of customers with malicious action
for mining and monitoring purpose. To implement a realistic EV
pattern of usage, we applied the probability distribution of EV
usage taken from [27]. Based on this article, EVs are usually
parked at home from 11 pm to 7 am the next day, and only 63% of
EVs are parked at home during working hours. For the simulation
part, the initial reputation is considered as Ri = 0.1, ∀i ∈ Nc and
the rest of values are α = 0.2$/kWh (based on dispatching price),
β = 0.13$/kWh and θ = 0.082$/kWh (based on time of use
(ToU) pricing in Ontario), and γ = 5$ is the block mining reward.
A. Impact of EV Usage Pattern
Figure 2 denotes the network demand profile before and after
DR during a day in July with two DR events at 5 pm and
9 pm. The figure also shows PV generation (dark solid line)
and the amount of PV used for demand (blue bars), allocated
block mining energy by customers (green bars), and EV charging
(yellow bars). Hence, there are total five mining processes (3 for
monitoring and 2 for DR events) during a day that only three of
them (at 8 am, 4 pm, and 5 pm) use the PV generation for the
mining process, and the reset (9 pm and 12 am) use EV capacity
and demand. Moreover, the peak is reduced almost 35%. To
show more details on customers profiles, we select three different
customers to keep an EV at home 1) 100% 3.(a), 2) 50% 3.(b)
and 3) zero percent 3.(c) of working hours (from 8 am to 8pm)
slots. They have nearly the same PV generation but have different
demand profiles. In Fig. 3.(c), the customer charges its EV during
the mid-night (1 am-2 am), and the car is out during the mining
events that reduce the chance of the customer to win the block
mining. According to Fig.3.(a) and (b), customers win the mining
at 8 am and 4 pm respectively and charge their EV with PV
generation as well. To present more details, Table I illustrates the
output results and profits of five types of customers (keep EV
at home for 100%, 70%, 50%, 30%, and 0% of working hours).
We found that the customer with 70% of EV at home did not
win the block mining because of the inappropriate time slots of
keeping EV at home and less demand reduction. But, it charges its
EV more than others and increases its charging profit. Then, the
customer with 0% EV at home only receives the profit of demand
reduction. Customers with 100% and 50% EV receive the reward
of mining, EV charging, and demand reduction. Consequently, the
customer who keeps EV at home exactly at mining hours (similar
to the customer with 50% EV) and reduces demand equal to the
DR request can achieve significant profits (calculated by 4) and
provides EV usage satisfaction during the daytime. Therefore, by
keeping EV at home during mining events, customer can increase
the chance to win the block mining and charge EV to enhance
the profit values.
B. Impact of Malicious Customers
To present our system security and robustness against the users
with malicious actions, Fig. 4. represents the network average
reputation value that is reducing while the number of users with
malicious actions increase. The reputation value is formulated
based on article [15] where the blockchain security is guaranteed
if the number of malicious nodes doesn’t exceed half of the
nodes. The reputation algorithm increases the reputation of users
when they truthfully submit transactions and successfully mine
the block, and it decreases when they send fraudulent information
(users can detect the fraudulent transaction using a smart contract).
Furthermore, according to our proposed consensus algorithm, the
consensus value of customers with malicious action will drop as
their reputation values decreased, and their chance to be selected
as a block miner will tend to zero. Thus, blockchain privacy
and security are guaranteed. Then to clarify how consensus value
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
429
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
TABLE I: Average profit value for different EVs usage pattern.
Working hours EV parked at home (%) Before DR After DR EV charged with PV (kW) Block mining event Total profit ($)
Total demand (kW) Total cost ($) Total Demand (kW) Total cost ($)
100 17.69 0.68 16.45 0.55 10.26 Event 1 3.96
70 11.25 0.41 10.95 0.38 13.22 - 1.15
50 30.14 1.57 29.41 1.49 3.82 Event 2 3.35
30 16.14 0.58 15.41 0.51 8.05 - 0.68
0 69.22 4.45 68.63 4.39 0 - 0.07
Fig. 5: (a) Consensus value and (b) reputation values of 5 customers
during five events (8 am, 4pm, 5pm, 9pm and 12 am) while customer 1
maliciously acts in event three.
and reputation of customers change, we apply k-means clustering
on 100 customer demand profiles and categorize them into five
groups. Fig. 5. shows 5 customers (from different clusters) in
five block mining events (defined before). At the beginning,
customers have the same reputation value (0.1), and customer
1 was selected as a miner due to its higher demand reduction,
and no malicious action was detected among users. In the next
block mining event, customer 5 was selected as a block miner and
successfully increased its reputation. But at event three, customers
detected a fraudulent transaction submission by customer 1, which
reduces its reputation and accordingly decreased its consensus
value. Then, customers 4, 5, and 4 were selected as block miners
for events three, four, and five respectively. After customer 1 was
detected with malicious action, it did not select as a miner in
reset of mining events due to its least reputation. But it still has
chances to increase its reputation by acting truthfully and building
its history for future events.
IV. CONCLUSION
In this paper, a novel demand response Stackelberg game model
is presented that includes a new DER saving mechanism using
energy blockchain to develop a collaborative distributed storage
system and interactive demand reduction in a residential area. Our
main goal was to engage customers to reduce their demand at
peak time slots, compete on block mining to win and receive
rewards, transform their surplus DERs into monetary resources,
and incentivize them to discharge and charge their EVs. In other
words, this mining strategy works like a storing mechanism
for the DER system that is less expensive and more efficient
than installing a battery inside a house. Our results show that
the proposed scheme can truly manage the DER resources by
efficiently allocating PV resources, demand, and EV to the block
mining process, and incentivizing customers to discharge EV and
reduce their consumption 35% during the peaks. Furthermore, we
demonstrated that our proposed consensus algorithm is robust and
secure against users with malicious actions. Certainly, this work
maximizes the chance of block mining for customers and allocate
rewards in addition to maximize the profit of the DSO by reducing
the total demand.
ACKNOWLEDGMENT
We would like to thank Hydro Ottawa, Canada, for providing
the residential power consumption dataset. This work is funded
by Natural Sciences and Engineering Research Council of Canada
(NSERC), Collaborative Research and Training Experience Pro-
gram (CREATE) under Grant 497981.
REFERENCES
[1] M. Erol-Kantarci and H. Mouftah. “Wireless sensor net-
works for cost-efficient residential energy management in
the smart grid”. In: IEEE Transactions on Smart Grid 2.2
(2011), pp. 314–325.
[2] J. Li, Z. Zhou, J. Wu, J. Li, S. Mumtaz, X. Lin, H.
Gacanin, and S. Alotaibi. “Decentralized on-demand energy
supply for blockchain in internet of things: A microgrids
approach”. In: IEEE Transactions on Computational Social
Systems 6.6 (2019), pp. 1395–1406.
[3] C. Pop, T. Cioara, M. Antal, I. Anghel, I. Salomie, and M.
Bertoncini. “Blockchain based decentralized management
of demand response programs in smart energy grids”. In:
Sensors 18.1 (2018), p. 162.
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
430
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply. 
[4] E. Golden Julie, J. Jesu Vedha Nayahi, and N. Jhanjhi.
Blockchain Technology: Fundamentals, Applications, and
Case Studies. CRC Press, 2020.
[5] M. Ghorbanian, S.H. Dolatabadi, P. Siano, I. Kouveliotis-
Lysikatos, and N.D. Hatziargyriou. “Methods for flexible
management of blockchain-based cryptocurrencies in elec-
tricity markets and smart grids”. In: IEEE Transactions on
Smart Grid 11.5 (2020), pp. 4227–4235.
[6] C.L. Bastian-Pinto, F.V. Araujo, L.E. Brandão, and L.L.
Gomes. “Hedging renewable energy investments with Bit-
coin mining”. In: Renewable and Sustainable Energy Re-
views (2020), p. 110520.
[7] R. Shan and Y. Sun. “Bitcoin mining to reduce the renew-
able curtailment: a case study of CAISO”. In: Available at
SSRN 3436872 (2019).
[8] S. Maharjan, Q. Zhu, Y. Zhang, S. Gjessing, and T. Basar.
“Dependable demand response management in the smart
grid: A Stackelberg game approach”. In: IEEE Transactions
on Smart Grid 4.1 (2013), pp. 120–132.
[9] F.L. Meng and X.J. Zeng. “A Stackelberg game-theoretic
approach to optimal real-time pricing for the smart grid”.
In: Soft Computing 17.12 (2013), pp. 2365–2380.
[10] Y. Jiang, K. Zhou, X. Lu, and S. Yang. “Electricity trading
pricing among prosumers with game theory-based model in
energy blockchain environment”. In: Applied Energy 271
(2020), p. 115239.
[11] P. Gallo, S. Longo, F. Montana, E.R. Sanseverino, and G.
Sciume. “Blockchain-based DR logic: a trade-off between
system operator’s and customer’s needs”. In: 2020 IEEE
20th Mediterranean Electrotechnical Conference (MELE-
CON). IEEE. 2020, pp. 576–581.
[12] Z. Zheng, S. Xie, H.N. Dai, X. Chen, and H. Wang.
“Blockchain challenges and opportunities: A survey”. In:
International Journal of Web and Grid Services 14.4
(2018), pp. 352–375.
[13] M. Jakobsson and A. Juels. “Proofs of Work and Bread
Pudding Protocols(Extended Abstract)”. In: Springer US,
1999, pp. 258–272.
[14] S. King and S. Nadal. “Ppcoin: Peer-to-peer crypto-
currency with proof-of-stake”. In: self-published paper,
August 19 (2012), p. 1.
[15] A. Asheralieva and D. Niyato. “Reputation-Based Coalition
Formation for Secure Self-Organized and Scalable Sharding
in IoT Blockchains With Mobile-Edge Computing”. In:
IEEE Internet of Things Journal 7.12 (2020), pp. 11830–
11850.
[16] M.U. Hassan, M.H. Rehmani, and J. Chen. “VPT: Privacy
Preserving Energy Trading and Block Mining Mechanism
for Blockchain based Virtual Power Plants”. In: arXiv
preprint arXiv:2102.01480 (2021).
[17] P. Siano, G. De Marco, A. Rolán, and V. Loia. “A sur-
vey and evaluation of the potentials of distributed ledger
technology for peer-to-peer transactive energy exchanges
in local energy markets”. In: IEEE Systems Journal 13.3
(2019), pp. 3454–3466.
[18] M. Moniruzzaman, A. Yassine, and R. Benlamri.
“Blockchain-based Mechanisms for Local Energy Trading
in Smart Grids”. In: 2019 IEEE 16th International Confer-
ence on Smart Cities: Improving Quality of Life Using ICT
& IoT and AI (HONET-ICT). IEEE. 2019, pp. 110–114.
[19] C. Liu, K.K. Chai, X. Zhang, and Y. Chen. “Peer-to-peer
electricity trading system: smart contracts based proof-of-
benefit consensus protocol”. In: Wireless Networks (2019),
pp. 1–12.
[20] P. Banerjee, N. Nikam, and S. Ruj. “Blockchain en-
abled privacy preserving data audit”. In: arXiv preprint
arXiv:1904.12362 (2019).
[21] I. Steinwart and A. Christmann. Support vector machines.
Springer Science & Business Media, 2008.
[22] T. Başar and G. Jan Olsder. Dynamic Noncooperative Game
Theory, 2nd Edition. Society for Industrial and Applied
Mathematics, 1998. Chap. 3. Noncooperative Finite Games:
N-Person Nonzero-Sum, pp. 77–160.
[23] V. De Maio, R. Brundo Uriarte, and I. Brandic. “Energy
and profit-aware proof-of-stake offloading in blockchain-
based vanets”. In: Proceedings of the 12th IEEE/ACM
International Conference on Utility and Cloud Computing.
2019, pp. 177–186.
[24] J. Yang, A. Paudel, and H.B. Gooi. “Compensation for
power loss by a Proof-of-Stake consortium blockchain
microgrid”. In: IEEE Transactions on Industrial Informatics
(2020).
[25] J. Sedlmeir, H.U. Buhl, G. Fridgen, and R. Keller.
“Recent Developments in Blockchain Technology and
their Impact on Energy Consumption”. In: arXiv preprint
arXiv:2102.07886 (2021).
[26] University of Ottawa SUNLAB Group. Photovoltaic Testing
at Ottawa Region. 2018. URL: http://sunlab.eecs.uottawa.
ca/facilities/solar-test-sites/ (visited on 05/04/2021).
[27] Z. Wang, P. Jochem, and W. Fichtner. “A scenario-based
stochastic optimization model for charging scheduling of
electric vehicles under uncertainties of vehicle availability
and charging demand”. In: Journal of Cleaner Production
254 (2020), p. 119886.
2021 IEEE International Conference on Communications, Control, and Computing Technologies for Smart Grids (SmartGridComm)
431
Authorized licensed use limited to: CITY UNIV OF HONG KONG. Downloaded on April 15,2023 at 07:58:03 UTC from IEEE Xplore.  Restrictions apply.